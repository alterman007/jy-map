{"version":3,"sources":["containers/Map/icons/car.png","containers/Map/icons/people.png","containers/Map/icons/area.png","containers/Map/icons/alarmCar.png","containers/Map/icons/alarmFace.png","containers/Map/icons/camera.png","containers/Map/icons/wifi.png","containers/Map/icons/move.png","containers/Map/icons/start.png","containers/Map/icons/end.png","components/Header/police.png","components/Title/bg.png","components/ImageLazyLoad/demo.png","containers/RealTimeAlarm/alarmIcon.png","containers/PoliceCall/Components/RenderIcon/icon2.png","containers/PoliceCall/Components/RenderIcon/alarm.png","containers/RealTimeAlarm/AlarmItem/demo.png","containers/ForceDetail/demo.png","containers/Map/context.js","containers/Map/icons/index.js","containers/Map/moveMarker.js","utils/func.js","containers/Map/Path.js","utils/map.js","request/api.js","containers/Map/MarkerCluster/index.js","containers/Map/MonitorMarkers.js","constants/actionTypes.js","actions/util.js","actions/map.js","containers/Map/_HeatMap/index.js","actions/cpmStatus.js","containers/Map/RealTimeMarker.js","containers/Map/Area/PCSArea.js","containers/Map/Area/HighLightedArea.js","containers/Map/Area/index.js","components/HDPICModal/index.js","containers/Map/index.js","components/Header/index.js","components/FontIcon/index.js","components/Title/index.js","components/ImageLazyLoad/index.js","containers/RealTimeAlarm/AlarmItem/index.js","actions/alarmHistory.js","containers/RealTimeAlarm/index.js","components/TimeRangeSearch/index.js","containers/PoliceCall/Components/RenderIcon/index.js","components/PieChart/PrevButton.js","components/PieChart/index.js","components/TodayStatistics/index.js","components/TodayStatistics/config.js","components/DayOrMonth/index.js","containers/PoliceCall/Components/RenderChart/index.js","containers/PoliceCall/Components/RenderList/index.js","containers/PoliceCall/index.js","actions/forceHistory.js","containers/NetworkForceHistory/Component/ForceHistoryList/index.js","containers/NetworkForceHistory/index.js","containers/NetworkAlarmHistory/index.js","containers/HistorySwitcher/index.js","containers/ForceSnapshot/index.js","containers/ForceDetail/index.js","containers/ForceDetailControl/index.js","containers/AlarmDetail/index.js","containers/AlarmDetailControl/index.js","containers/Switcher/rotate.js","containers/Switcher/index.js","components/BarChart/config.js","components/BarChart/index.js","components/PCSPoliceCallModal/index.js","App.js","serviceWorker.js","sagas/alarmHistory.js","sagas/forceHistory.js","core/socket.js","sagas/map.js","sagas/cpmStatus.js","sagas/index.js","reducers/alarmHistory.js","reducers/forceHistory.js","reducers/cmpStatus.js","reducers/map.js","reducers/index.js","configStore.js","core/initLeaflet.js","index.js"],"names":["module","exports","MapContext","createContext","carIcon","L","Icon","iconUrl","carImage","iconAnchor","iconSize","popupAnchor","moveIcon","peopleImage","areaImage","moveImage","startIcon","startImage","endIcon","endImage","mapTypeToName","1","2","3","4","5","6","7","8","tipMarkerConfig","car","people","wifi","wifiImage","camera","cameraImage","areaIcon","alarmFace","alarmFaceImage","alarmCar","alarmCarImage","policestation","tipTypeIcon","type","name","typeName","DivIcon","Object","assign","className","html","tipMonitorIcon","desc","tooltipAnchor","defaultOption","icon","duration","repeat","MoveMarker","map","path","option","move","rate","Date","now","startTime","position","getLinePointByPercent","concat","marker","setLatLng","reverse","raf","requestAnimationFrame","this","init","pathLength","turf","initPos","Marker","addLayer","Math","min","max","cancelAnimationFrame","removeLayer","rid","random","toString","substring","getuuid","mydate","getDay","getHours","getMinutes","getSeconds","getMilliseconds","round","tid","Path","geojsonStyle","color","weight","fillOpacity","fillColor","bounds","props","movePath","d","context","fitBounds","maxZoom","padding","markerId","markers","forceItem","find","id","moveMarker","destroy","prevProps","moveFlag","destroyMoveMarker","moveMarkerAlongPath","coords","startPoint","endPoint","length","alarmDetail","GeoJSON","data","style","key","renderEndPoint","Component","contextType","connect","state","showAlarmHistoryDetail","selectedMarkerID","realTimeMarkers","convertDataToGeojson","decodeData","p","coordtransform","wgs84togcj02","transformPolygon","pscbj","pcs","list","dm","center","transformLatLng","config","lngName","latName","coverTarge","item","lng","lat","target","split","reduce","pre","cur","getKey","Array","isArray","forEach","urlencoded","headers","instance","axios","create","baseURL","getCarTrall","get","then","catch","err","getRadioTrall","getAlarmHistory","args","tabActive","timeRange","url","condition","biggintime","moment","format","endtime","post","qs","stringify","getForceHistory","getForcePathById","result","longitude","latitude","push","humanId","getPoliceStationStatistical","console","log","params","monitorPlay","a","appSecret","time","timeSecret","document","getElementById","src","error","alert","getfjinfo","getbj110","MarkerClusterGroup","addMarkerClusterGroupToMap","wrapperOptions","enableDefaultStyle","_container","disableDefaultAnimation","nextProps","prevMarkerClusterGroup","layerContainer","filteredMarkers","JSON","includes","markersOptions","markerOptions","markerClusterGroup","options","removeDuplicates","removeMarkersWithSameCoordinates","leafletMarkers","currentMarkerOptions","leafletMarker","popup","bindPopup","tooltip","bindTooltip","addLayers","initEventListeners","leafletElement","onMarkerClick","on","layer","onClusterClick","cluster","onPopupClose","LayerGroup","MonitorMarkers","monitorEle","React","createRef","monitorList","getMonitorList","indexCode","setState","opt","iShowMonitorMarkers","title","maxClusterRadius","handleClick","width","height","ref","createHTTPActionType","START","FULFILLED","REJECTED","PENDING","HTTP_FETCH_FORCE_HISTORY","HTTP_FETCH_FORCE_PATH","HTTP_FETCH_ALARM_HISTORY","HTTP_MAP_PCSAREA","HTTP_FETCH_TRAIL","HTTP_FETCH_RADIO","HTTP_FETCH_ISALARM_COMING","createHttpAction","httpType","startAction","createAction","pendingAction","fulfilledAction","rejectAction","setRealTimeMarkers","selectRealTimeMarker","setMapPath","setMoveFlag","setAlarmHistoryDetail","setMapZoom","fetchMapTrail","setMapTrail","fetchMapPCSArea","setMapPCSArea","fetchRadioTrall","setRadioTrall","latlng","points","HeatMap","mapHidden","layerHidden","radius","blur","limitAddressPoints","setInterval","getWifiCount","num","scope","res","lan","i","parseInt","longitudeExtractor","m","latitudeExtractor","gradient","intensityExtractor","parseFloat","Number","fetchIsAlarmComing","setTransFormToLeft","setIsAlarmComing","setIshowCarMarkers","setIshowHeatLayers","setIshowRadioMarkers","setIshowMonitorMarkers","setIshowPrevButton","setIshowHDPICModal","setIshowPCSPoliceModal","RealTimeMarkers","actions","index","Popup","direction","closeButton","policeman","zjhm","busnum1","jcmc","dwmc","dhhm","onClick","handleCarClick","bind","info","radioMarker","Tooltip","alarmId","plateInfo","setContent","jzdm","openOn","alarmMarker","forceHistoryMarker","iShowCarMarkers","iShowRadioMarkers","carMarkers","radioMarkers","iShowHeatLayers","renderSelectedMarker","renderAlarmMarker","renderCarMarkers","renderRadioMarkers","renderHeatLayer","dispatch","bindActionCreators","PCSArea","selectName","ev","pcsArea","features","getStyle","HighLightedArea","useContext","useEffect","f","flyTo","useHighLightedAreaEffect","getstyle","properties","markerRecord","undefined","Area","clickAreaName","myIcon","divIcon","sourceTarget","feature","centroid","addTo","undef","region","shRegion","setStyle","sh","isSelectedTheSameArea","isShowHDPICModal","cmpStatus","ishow","hdpic","address","visible","footer","onCancel","MapOperation","mapEle","leafletEle","zoom","leafletMap","current","TileLayer","Provider","value","Map","attributionControl","zoomSnap","zoomControl","minZoom","renderTileLayer","RealTimeMarker","Header","police","FileIcon","classnames","Title","onClose","bgImg","alt","FontIcon","io","IntersectionObserver","entries","intersectionRatio","dataset","unobserve","threshold","ImageLazyLoad","imgsrc","imgClick","imgRef","useRef","observe","disconnect","data-src","defaultProps","demoImage","cameraName","humanName","alarmTime","facePicUrl","bkgPicUrl","passTimeStr","picPlate","crossingName","picVehicle","toggleAlarmHistoryVisible","setAlarmHistoryList","selectAlarmItem","setAlarmHistoryListIsSelected","fetchAlarmHistory","RealTimeAlarm","hideList","alarmList","toggleAlarmVisible","clearInterval","timer","fetchList","onSelectItem","alarmIcon","renderIcon","renderContent","TimeRangeSearch","RangePicker","pickerStyle","background","onTimeChange","onSearch","history","showTime","size","separator","onChange","placeholder","renderPoliceAll","isAlarmComing","togglePoliceVisible","alarm","iShowPrevButton","prevHandleClick","borderRadius","outline","fontSize","textAlign","letterSpacing","marginLeft","cursor","border","PieChart","pieChart","createPieChart","mychart","echarts","setOption","subtext","x","textStyle","subtextStyle","y","trigger","formatter","label","series","show","e","fkdw","itemStyle","normal","emphasis","shadowBlur","shadowOffsetX","shadowColor","iShow","fetchStatistical","sortData","sort","b","allnum","TodayStatisics","columnarChart","createChart","total","deal","grid","left","top","right","bottom","containLabel","legend","xAxis","yAxis","axisTick","axisLine","axisLabel","lineStyle","stack","yAxisIndex","distance","barWidth","barBorderRadius","z","barGap","getOption","PureComponent","DayOrMonth","changeType","active","RenderChart","statistical","dealnum","RenderList","dwdZjid","fkdbh","dwRksj","fkrxm","fkdwmc","fkrgh","aymc","cjqk","PoliceCall","bl","renderType","selectForceHistoryItem","toggleForceHistoryVisible","setForceHistoryList","fetchForceHistory","fetchForcePath","setForceHistoryListIsSelected","ForceHistoryList","selectId","dates","message","forceHistoryList","pic","createTime","renderForceList","forceHistoryVisible","selectedId","forceHistory","NetworkForceHistory","handleClose","NetworkAlarmHistory","switchTab","warning","pp","alarmHistoryVisible","data-type","alarmHistoryList","isFace","renderTypeTab","renderAlarmList","alarmHistory","HistorySwitcher","handleForceClick","handleAlarmClick","handleRadioClick","handleRealCarClick","handleMonitorClick","handleHeatClick","fill","stroke","strokeWidth","transform","margin","ForceSnapshot","selected","defaultValue","carCaptureList","faceCaptureList","changeSelected","getFaceCaptureInfo","getCarCaptureById","vehicleIdentification","limit","rendercarCaptureList","c","baseImageSrc","carNumberSrc","sspcs","renderTab","renderList","ForceDetail","fromTime","toTime","showType","playVideo","detail","onPlay","date","renderTimeSearch","changeShowType","onSearchPath","tranformToLeft","wificount","renderAction","ForceDetailControl","selectedItem","AlarmDetail","showTimeSearch","showPath","close","showHDPICModal","humans","credentialsNum","substr","AlarmDetailControl","Rotate","container","rotateZ","autoRotate","dragging","rotate","initEvent","startX","startY","addEventListener","pageX","pageY","startRotate","window","Switcher","rotateRef","buttonList","clickedIndex","radio","PI","cos","sin","r","isActive","rotateByIndex","filterData","backgroundColor","handleIcon","handleSize","handleStyle","borderColor","symbolSize","symbol","BarChart","ele","barchart","iShowPCSPoliceCallModal","useState","initData","usePCSPoliceCallEffect","setType","mask","zIndex","useMemo","TodayStatistics","App","Boolean","location","hostname","match","watchFetchAlarmHistory","takeLatest","action","call","payload","put","all","fork","watchFetchForceHistory","watchFetchForcePath","EventEmitter","watchFetchTrail","watchFetchRadio","watchPCSArea","isFetchCarTrall","watchIsAlarmComing","root","AllForks","cpmStatus","handleActions","detailId","iSHow","newState","mapzoom","peoplePoints","iShowNetworkAlarmHistory","iShowNetWorkForceHistory","rootReducer","combineReducers","devToolOpt","composeEnhancers","composeDTP","sagaMiddleware","createSagaMiddleware","configStore","reducer","rootSaga","reduxMiddlewareArr","store","createStore","applyMiddleware","run","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","marker2x","shadowUrl","markerShadow","locale","rootSagas","ReactDOM","render","zhCN","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aaceb2ad.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car.828df670.png\";","module.exports = __webpack_public_path__ + \"static/media/people.233239eb.png\";","module.exports = __webpack_public_path__ + \"static/media/area.cc7a4a1a.png\";","module.exports = __webpack_public_path__ + \"static/media/alarmCar.def8711a.png\";","module.exports = __webpack_public_path__ + \"static/media/alarmFace.be8fb896.png\";","module.exports = __webpack_public_path__ + \"static/media/camera.2b29deec.png\";","module.exports = __webpack_public_path__ + \"static/media/wifi.fdfbfb50.png\";","module.exports = __webpack_public_path__ + \"static/media/move.8444d121.png\";","module.exports = __webpack_public_path__ + \"static/media/start.93e42b09.png\";","module.exports = __webpack_public_path__ + \"static/media/end.90d0d0db.png\";","module.exports = __webpack_public_path__ + \"static/media/police.978454e5.png\";","module.exports = __webpack_public_path__ + \"static/media/bg.6095f6e5.png\";","module.exports = __webpack_public_path__ + \"static/media/demo.aae2d9ad.png\";","module.exports = __webpack_public_path__ + \"static/media/alarmIcon.662bc361.png\";","module.exports = __webpack_public_path__ + \"static/media/icon2.7da61144.png\";","module.exports = __webpack_public_path__ + \"static/media/alarm.89c37864.png\";","module.exports = __webpack_public_path__ + \"static/media/demo.aae2d9ad.png\";","module.exports = __webpack_public_path__ + \"static/media/demo.aae2d9ad.png\";","import { createContext } from 'react';\n\nexport const MapContext = createContext();\n","import L from 'leaflet';\nimport alarmCarImage from './alarmCar.png';\nimport alarmFaceImage from './alarmFace.png';\nimport carImage from './car.png';\nimport peopleImage from './people.png';\nimport cameraImage from './camera.png';\nimport wifiImage from './wifi.png';\nimport moveImage from './move.png';\nimport areaImage from './area.png';\nimport startImage from './start.png';\nimport endImage from './end.png';\nimport './index.styl';\n\nexport const carIcon = new L.Icon({\n  iconUrl: carImage,\n  iconAnchor: [24, 19],\n  iconSize: [48, 38],\n  popupAnchor: [0, -19],\n});\n\nexport const peopleIcon = new L.Icon({\n  iconUrl: peopleImage,\n  iconAnchor: [17, 20],\n  iconSize: [34, 40],\n  popupAnchor: [0, -20],\n});\n\nexport const areaIcon = new L.Icon({\n  iconUrl: areaImage,\n  iconAnchor: [17, 20],\n  iconSize: [34, 40],\n  popupAnchor: [0, -20],\n})\n\nexport const moveIcon = new L.Icon({\n  iconUrl: moveImage,\n  iconAnchor: [17, 51],\n  iconSize: [34, 51],\n});\n\nexport const startIcon = new L.Icon({\n  iconUrl: startImage,\n  iconAnchor: [17, 51],\n  iconSize: [34, 51],\n})\nexport const endIcon = new L.Icon({\n  iconUrl: endImage,\n  iconAnchor: [17, 51],\n  iconSize: [34, 51],\n})\n// car 1 车辆 2 单兵 3 wifi 4 电台\n// people\n// wifi\n// camera\nconst mapTypeToName = {\n  1: 'car',\n  2: 'people',\n  3: 'camera',\n  4: 'wifi',\n  5: 'areaIcon',\n  6: 'alarmFace',\n  7: 'alarmCar',\n  8: 'policestation'\n}\nconst tipMarkerConfig = {\n  car: {\n    iconUrl: carImage,\n    iconAnchor: [24, 19],\n    iconSize: [48, 38],\n    popupAnchor: [0, -19],\n  },\n  people: {\n    iconUrl: peopleImage,\n    iconAnchor: [17, 20],\n    iconSize: [34, 40],\n    popupAnchor: [0, -20],\n  },\n  wifi: {\n    iconUrl: wifiImage,\n    iconAnchor: [19, 19],\n    iconSize: [38, 38],\n    popupAnchor: [0, -19],\n  },\n  camera: {\n    iconUrl: cameraImage,\n    iconAnchor: [15, 16],\n    iconSize: [36, 32],\n    popupAnchor: [0, -16],\n  },\n  areaIcon: {\n    iconUrl: areaImage,\n    iconAnchor: [17, 20],\n    iconSize: [44, 40],\n    popupAnchor: [0, -20],\n  },\n  alarmFace: {\n    iconUrl: alarmFaceImage,\n    iconAnchor: [17, 20],\n    iconSize: [44, 40],\n    popupAnchor: [0, -20],\n  },\n  alarmCar: {\n    iconUrl: alarmCarImage,\n    iconAnchor: [17, 20],\n    iconSize: [44, 40],\n    popupAnchor: [0, -20],\n  },\n  policestation: {\n    iconAnchor: [17, 20],\n    iconSize: [44, 40],\n    popupAnchor: [0, -20],\n  }\n};\n\nexport function tipTypeIcon(type, name) {\n  const typeName = mapTypeToName[type];\n  return new L.DivIcon(Object.assign({}, tipMarkerConfig[typeName], {\n    className: `marker-with-tip ${typeName}`,\n    html: `<span class=${type === '5' ? 'areaIconName name' : 'name'}>${name}</span>`,\n  }));\n}\n\nexport function tipCarIcon(desc) {\n  return new L.DivIcon({\n    className: 'marker-with-tip car',\n    html: `<span class=\"name\">${desc}</span>`,\n    iconAnchor: [24, 19],\n    iconSize: [48, 38],\n    popupAnchor: [0, -19],\n    tooltipAnchor: [24, 0],\n  });\n}\n\nexport const tipMonitorIcon = (desc) => {\n  return new L.DivIcon({\n    className: 'marker-with-tip monitor',\n    html: `<span class=\"name\">${desc}</span>`,\n    iconAnchor: [24, 19],\n    iconSize: [48, 38],\n    popupAnchor: [0, -19],\n    tooltipAnchor: [24, 0],\n    // iconUrl: cameraImage,\n  });\n}\n\n// export const suitcasePoint = new L.Icon({\n//   iconUrl: 'marker-icon.png',\n//   iconRetinaUrl: 'marker-icon-2x.png',\n//   shadowUrl: 'marker-shadow.png',\n//   iconSize: [25, 41],\n//   iconAnchor: [12, 41],\n//   popupAnchor: [1, -34],\n//   tooltipAnchor: [16, -28],\n//   shadowSize: [41, 41]\n// })\n","import { Marker } from 'leaflet';\nimport * as turf from '@turf/turf';\nimport { moveIcon, carIcon } from './icons';\n\nconst defaultOption = {\n  icon: moveIcon,\n  duration: 100000,\n  repeat: true,\n};\n\nclass MoveMarker {\n  constructor(map, path, option = defaultOption) {\n    this.map = map;\n    this.path = path;\n    this.option = Object.assign({}, defaultOption, option);\n    this.init();\n  }\n\n  init() {\n    this.pathLength = turf.length(this.path);\n    this.startTime = Date.now();\n    const initPos = this.getLinePointByPercent(0);\n    this.marker = new Marker(initPos, { icon: this.option.icon || carIcon });\n    // this.marker = new Marker(initPos, { icon: this.props.icon });\n    this.map.addLayer(this.marker);\n    this.move();\n  }\n\n  move = () => {\n    const rate = (Date.now() - this.startTime) / this.option.duration;\n    if (rate > 1) {\n      if (this.option.repeat) {\n        this.startTime = Date.now();\n        this.move();\n      } else {\n        return;\n      }\n    }\n    const position = this.getLinePointByPercent(rate).concat();\n    this.marker.setLatLng(position.reverse());\n    this.raf = requestAnimationFrame(this.move);\n  }\n\n  getLinePointByPercent(rate = 0) {\n    rate = Math.min(Math.max(0, rate), 1);\n    return turf.getCoord(turf.along(this.path, this.pathLength * rate));\n  }\n\n  destroy() {\n    this.raf && cancelAnimationFrame(this.raf);\n    this.map.removeLayer(this.marker);\n  }\n}\n\nexport default MoveMarker;\n","function tid() {\r\n  var mydate = new Date()\r\n  var uuid = mydate.getDay() + mydate.getHours() + mydate.getMinutes() + mydate.getSeconds() + mydate.getMilliseconds() + Math.round(Math.random() * 10000);\r\n  return uuid;\r\n}\r\nfunction rid() {\r\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n}\r\n  \r\nfunction getuuid() {\r\n  return (tid() + \"_\" + rid() + \"_\" + rid() + \"_\" + rid())\r\n}\r\n\r\nfunction GetQueryValue(queryName) {\r\n  var query = decodeURI(window.location.search.substring(1));\r\n  var vars = query.split(\"&\");\r\n     for (var i = 0; i < vars.length; i++) {\r\n          var pair = vars[i].split(\"=\");\r\n          if (pair[0] == queryName) { return pair[1]; }\r\n      }\r\n      return null;\r\n}\r\n\r\nexport { getuuid, GetQueryValue }","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Marker, GeoJSON } from 'react-leaflet';\nimport * as turf from '@turf/turf';\nimport { MapContext } from './context';\nimport { tipTypeIcon } from './icons';\nimport MoveMarker from './moveMarker';\nimport { startIcon, endIcon } from './icons';\nimport { getuuid } from '../../utils/func';\n\nconst mapStateToProps = (state) => ({\n  movePath: state.map.movePath,\n  moveFlag: state.map.moveFlag,\n  alarmDetail: state.map.showAlarmHistoryDetail,\n  markerId: state.map.selectedMarkerID,\n  markers: state.map.realTimeMarkers,\n});\n\nclass Path extends Component {\n  static contextType = MapContext;\n\n  geojsonStyle = {\n    color: '#20AAFF',\n    weight: 4,\n    fillOpacity: 0.5,\n    fillColor: '#20AAFF',\n  };\n\n  fitBounds() {\n    const bounds = turf.getCoords(this.props.movePath)\n      .map((d) => d.concat().reverse());\n    this.context.fitBounds(bounds, { maxZoom: 16, padding: [150, 150] });\n  }\n\n  moveMarkerAlongPath() {\n    const { markerId, markers } = this.props;\n    const forceItem = typeof markerId === 'object' ? markerId : markers.find((marker) => marker.id === markerId);\n    let icon;\n    if (forceItem) {\n      icon = tipTypeIcon(1, forceItem.name);\n    }\n    this.moveMarker = new MoveMarker(this.context, this.props.movePath, { icon, duration: 100000 });\n  }\n\n  destroyMoveMarker() {\n    if (this.moveMarker) {\n      this.moveMarker.destroy();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // this.destroyMoveMarker();\n    const { movePath, moveFlag } = this.props;\n    if (!movePath) {\n      this.destroyMoveMarker();\n      return;\n    }\n    if(prevProps.movePath === movePath) return;\n    this.destroyMoveMarker()\n    this.fitBounds();\n    if (moveFlag) {\n      this.moveMarkerAlongPath();\n    }\n  }\n\n  componentWillUnmount() {\n    this.destroyMoveMarker();\n  }\n\n  renderEndPoint() {\n    const coords = turf.getCoords(this.props.movePath);\n    const startPoint = coords[0].concat().reverse();\n    const endPoint = coords[coords.length - 1].concat().reverse();\n    // console.log(startPoint,startIcon)\n    // debugger\n    return (\n      <Fragment>\n        <Marker position={startPoint} icon={startIcon} />\n        <Marker position={endPoint} icon={endIcon} />\n      </Fragment>\n    )\n  }\n\n  render() {\n    const { movePath, alarmDetail } = this.props;\n    if (!movePath) {\n      return null;\n    }\n    if (alarmDetail) {\n      this.geojsonStyle.color = '#F52323';\n    } else {\n      // this.geojsonStyle.color = '#20AAFF';\n      this.geojsonStyle.color = '#27FFDD';\n    }\n    return (\n      <Fragment>\n        <GeoJSON\n          data={turf.featureCollection([movePath])}\n          style={this.geojsonStyle}\n          key={getuuid()}\n        />\n        {this.renderEndPoint()}\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(Path);\n","import * as turf from '@turf/turf';\nimport coordtransform from 'coordtransform';\n\nexport function convertDataToGeojson(data, type) {\n  const decodeData = data.map((p) => coordtransform.wgs84togcj02(...p))\n  return turf[type](decodeData);\n}\n\nexport function transformPolygon(pscbj) {\n  return pscbj.map(pcs => {\n    return turf.polygon([pcs.list], {\n      name: pcs.dm,\n      center: pcs.center\n    })\n  })\n}\n\nexport function getKey(data, path) {\n  if(!path) {\n    return data;\n  }\n  const names = path.split(\".\");\n  return names.reduce((pre, cur) => {\n    return pre[cur] || {};\n  }, data);\n}\n\nexport function transformLatLng(config = {}) {\n  const { path='', lngName='lng', latName='lat' } = config;\n  function coverTarge(item) {\n    const [lng, lat] = coordtransform.wgs84togcj02(item[lngName], item[latName]);\n    item.lng = lng\n    item.lat = lat;\n    return item;\n  }\n  return (data) => {\n    const target = getKey(data, path);\n    Array.isArray(target) ? target.forEach(coverTarge) : coverTarge(target);\n    return data;\n  }\n}\n","import axios from 'axios';\nimport { transformLatLng, transformPolygon } from '../utils/map';\nimport qs from 'querystring';\nimport moment from 'moment';\nimport coordtransform from 'coordtransform';\n// const url = 'http://47.98.168.14:9094';\nconst url = 'http://192.168.0.127:9090'\nconst produrl = 'http://47.98.168.14:9094'\n// const url = 'http://15.75.19.155:9090/';\n// const produrl = 'http://15.75.19.155/';\nconst host = process.env.NODE_ENV === 'development' ? url : produrl\n\nconst urlencoded = {\n  headers: {\n    'Content-type': 'application/x-www-form-urlencoded'\n  }\n}\n\nconst instance = axios.create({\n  baseURL: host,\n});\n\n\n// 查询实时车辆轨迹\nexport function getCarTrall() {\n  return instance.get('/getCarTrall.do')\n  .then(transformLatLng({path: \"data\", latName: \"lat\", lngName: \"lng\"}))\n  .catch(err => null)\n}\n\nexport function getTrall() {\n  return instance.get('/getTrall.do')\n}\n\n//获取实时电台\nexport function getRadioTrall() {\n  return instance.get('/getBjdtTrall.do')\n}\n\nexport function getRealAlarm() {\n  return instance.get('/getRealAlarm.do')\n  .then(transformLatLng({path: \"data\", latName: \"latitude\", lngName: \"longitude\"}));\n}\n\nexport function getPoliceCall() {\n  return instance.post('/getBj110Entity.do?limit=10');\n}\n\nexport function getAlarmHistory(args) {\n  const { tabActive, timeRange } = args;\n  const url = tabActive === 'face' ? '/getFaceAlarmEntity.do?limit=100' : '/getCarAlarmEntity.do?limit=100';\n  const condition = {};\n  if(timeRange) {\n    condition.biggintime = moment(timeRange).format('YYYY-MM-DD 00:00:00')\n    condition.endtime = timeRange\n  } else {\n    condition.endtime = moment().format('YYYY-MM-DD HH:mm:ss')\n    condition.biggintime = moment(condition.endtime).format('YYYY-MM-DD 00:00:00')\n  }\n  // return axios.get('/mock/alarmHistory.json')\n  return instance.post(url, qs.stringify(condition), urlencoded)\n    .then(transformLatLng({path: \"data\", latName: \"latitude\", lngName: \"longitude\"}));\n}\n\n\n//获取联网警力历史\nexport function getForceHistory(args) {\n  return instance.get('/getRealcardb.do', args)\n  .then(transformLatLng({path: \"data\", latName: \"lat\", lngName: \"lng\"}))\n}\n\nexport function getForceDetailById(args) {\n  return axios.get('/mock/forceDetail.json')\n}\n\n// 获取车辆轨迹\nexport function getForcePathById(args) {\n  if (args.name) {\n    const { name, biggintime, endtime } = args;\n    return instance.post(`/getCartrace.do?vehicleUploadFlag=${name}&biggintime=${biggintime ? biggintime : \"\"}&endtime=${endtime ? endtime: \"\"}`)\n    .then(data => {\n      const path = []\n       data.data.result.forEach((d) => {\n        if(d.longitude > 119 && d.longitude <122 && d.latitude > 29 && d.latitude < 32) {\n          \n          path.push([d.longitude, d.latitude])\n          // path.push(coordtransform.wgs84togcj02(d.longitude, d.latitude))\n        }\n      })\n      return path;\n    })\n    .catch(err => null)\n  } else {\n    const { humanId, biggintime, endtime } = args;\n    return instance.post(`/getFaceAlarmEntity.do?humanId=${humanId}&biggintime=${biggintime ? biggintime : \"\"}&endtime=${endtime ? endtime: \"\"}`)\n    .then(data => {\n      const path = []\n       data.data.forEach((d) => {\n        if( d.longitude > 119 && d.longitude <122 && d.latitude > 29 && d.latitude < 32) {\n          path.push([d.longitude, d.latitude])\n        }\n      })\n      return path;\n    })\n    .catch(err => null)\n  }\n}\n\n// 获取告警详情\nexport function getAlarmDetailById(args) {\n  return axios.get('/mock/alarmDetail.json');\n}\n\n// 获取监控点位列表\nexport function getMonitorList(args) {\n  return instance.get('/getcaremaposition.do')\n  .then(transformLatLng({path: \"data\", latName: \"latitude\", lngName: \"longitude\"}))\n}\n\n// 获取车辆联网抓拍\n\nexport function getCarCaptureById(args) {\n  return instance.post('/getCarEntity.do', qs.stringify(args), urlencoded)\n  // return instance.post(`/getCarEntity.do?longitude=${args.lng}&latiude=${args.lat}`)\n}\n\n// 获取车辆人脸抓拍\nexport function getFaceCaptureById(args) {\n  return instance.post('/getFaceEntity.do?limit=10', qs.stringify(args), urlencoded)\n  // return instance.post(`/getCarEntity.do?longitude=${args.lng}&latiude=${args.lat}`)\n}\n\n\n// 获取分局统计\n\nexport function getPoliceStationStatistical(args) {\n  console.log(args)\n  // return axios.get('/mock/110call.json')\n  return instance.get('/getdepartpcstj.do', {\n    params: args\n  })\n}\n\n// 获取密钥调取海康视频客户端\nexport function getAppSecrect() {\n  return instance.get(\"/getappsecret.do\")\n}\n\n// 调取海康软件\nexport async function monitorPlay(key) {\n  try {\n    const { data } = await getAppSecrect();\n    console.log(data)\n    var params = `hikvideoclient://ReqType:PlayReal;VersionTag:artemis;SvrIp:15.202.201.200;SvrPort:443;Appkey:27053604;AppSecret:${data.data.appSecret};time:${data.data.time};timesecret:${data.data.timeSecret};httpsflag:1;CamList:${key || 31011941001310013511};`\n    // var param = 'hikvideoclient://ReqType:' + PalyType + ';' + 'VersionTag:artemis' + ';' + 'SvrIp:' + SvrIp + ';' + 'SvrPort:' + SvrPort + ';' + 'Appkey:' + appkey + ';' + 'AppSecret:' + appSecret + ';' + 'time:' + time + ';' + 'timesecret:' + timeSecret + ';' + 'httpsflag:' + httpsflag + ';' + 'CamList:' + CamList + ';';\n    document.getElementById(\"exe\").src = params\n  } catch (error) {\n    console.error(error)\n    alert(\"错误\")\n  }\n}\n\n//查询派出所巡逻区域\nexport function getPoliceStatArea() {\n  return axios.get(\"/mock/area.json\")\n}\n\n//查询派出所边界\nexport function getfjinfo(args) {\n  return instance.get(`/getfjibj.do?dm=${args}`)\n  .then(({data}) => {\n    return transformPolygon(data)\n  })\n  .catch(err => null)\n}\n\nexport function getJqtongji() {\n  return instance.get('/getJqtongji.do')\n}\n\nexport function getbj110() {\n  return instance.get('/getbj110.do')\n}","import L from 'leaflet'\nimport 'leaflet.markercluster';\nimport { LayerGroup } from 'react-leaflet';\n\nimport './index.styl';\n\n// let this.prevMarkerClusterGroup;\n\nexport default class MarkerClusterGroup extends LayerGroup {\n  prevMarkerClusterGroup;\n  componentDidMount() {\n    if (this.props.markers && this.props.markers.length) {\n      this.addMarkerClusterGroupToMap(this.props.markers);\n    }\n    const className =  ' marker-cluster-styled';\n    this.props.wrapperOptions.enableDefaultStyle && (\n      this.context.map._container.className += className\n    );\n\n    !this.props.wrapperOptions.disableDefaultAnimation && (\n      this.context.map._container.className += ' marker-cluster-animated'\n    );\n  }\n\n  componentDidUpdate() {\n    const nextProps = this.props;\n    if (nextProps.markers && nextProps.markers.length) {\n      // Remove layer only if MarkerClusterGroup was previously rendered\n      this.prevMarkerClusterGroup && this.layerContainer.removeLayer(\n        this.prevMarkerClusterGroup\n      );\n      this.addMarkerClusterGroupToMap(nextProps.markers);\n    }\n  }\n\n  removeMarkersWithSameCoordinates(markers) {\n    // init filtered markers list with first marker from list\n    let filteredMarkers = [markers[0]];\n\n    markers.forEach((marker) => {\n      if (!JSON.stringify(filteredMarkers).includes(JSON.stringify(marker))) {\n        filteredMarkers.push(marker);\n      }\n    });\n\n    return filteredMarkers;\n  }\n\n  addMarkerClusterGroupToMap(markers) {\n    let markersOptions = this.props.markerOptions\n      ? Object.assign({}, this.props.markerOptions)\n      : {};\n\n    let markerClusterGroup = L.markerClusterGroup(this.props.options);\n\n    let filteredMarkers = this.props.wrapperOptions.removeDuplicates\n      ? this.removeMarkersWithSameCoordinates(markers)\n      : markers;\n\n    let leafletMarkers = [];\n\n    filteredMarkers.forEach((marker) => {\n      let currentMarkerOptions = marker.options\n        ? Object.assign({}, marker.options)\n        : null ;\n\n      let leafletMarker = L.marker(\n        [marker.lat, marker.lng],\n        currentMarkerOptions || markersOptions\n      );\n\n      marker.popup && leafletMarker.bindPopup(marker.popup);\n      marker.tooltip && leafletMarker.bindTooltip(marker.tooltip);\n\n      leafletMarkers.push(leafletMarker);\n    });\n\n    markerClusterGroup.addLayers(leafletMarkers);\n    this.layerContainer.addLayer(markerClusterGroup);\n\n    this.prevMarkerClusterGroup = markerClusterGroup;\n\n    // Init listeners for layerContainer even when component receiving new props\n    // because we have removed the previous layer from layerContainer\n    this.initEventListeners(markerClusterGroup);\n\n    // Override auto created leafletElement with L.markerClusterGroup element\n    this.leafletElement = markerClusterGroup;\n  }\n\n  initEventListeners(markerClusterGroup) {\n    this.props.onMarkerClick && (\n      markerClusterGroup.on('click', (marker) => {\n        this.props.onMarkerClick(marker.layer);\n      })\n    );\n\n    this.props.onClusterClick && (\n      markerClusterGroup.on('clusterclick', (cluster) => {\n        this.props.onClusterClick(cluster.layer);\n      })\n    );\n\n    this.props.onPopupClose && (\n      markerClusterGroup.on('popupclose', (map) => {\n        this.props.onPopupClose(map.popup);\n      })\n    );\n  }\n\n  getLeafletElement() {\n    return this.leafletElement;\n  }\n}\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { getMonitorList, monitorPlay } from '../../request/api';\nimport { Marker, Tooltip } from 'react-leaflet';\nimport { tipMonitorIcon } from './icons';\nimport { MapContext } from './context';\nimport MarkerCluster from './MarkerCluster';\n\nconst mapStateToProps = (state) => {\n  return {\n    // mapzoom: state.map.mapzoom,\n    movePath: state.map.movePath,\n    iShowMonitorMarkers: state.map.iShowMonitorMarkers\n  }\n}\n\nclass MonitorMarkers extends Component {\n  static contextType = MapContext;\n  monitorEle = React.createRef()\n    state = {\n        monitorList: []\n    }\n  componentDidMount() {\n    this.getMonitorList()\n  }\n  async getMonitorList() {\n    try {\n      const { data } = await getMonitorList();\n      data.map(marker => {\n        marker.options = {\n          indexCode: marker.indexCode,\n          icon: tipMonitorIcon(marker.name)\n        }\n      })\n      this.setState({\n        monitorList: data\n      })\n    } catch (error) {\n      console.error(error)\n    }\n  }\n  handleClick(opt = {}) {\n    monitorPlay(opt.options.indexCode)\n  }\n  render() {\n    const { monitorList } = this.state;\n    const { movePath, iShowMonitorMarkers } = this.props;\n    if (movePath) {\n      return null;\n    }\n    if(!iShowMonitorMarkers) {\n      return null\n    }\n    return (\n      <Fragment>\n        {\n          // this.props.mapzoom === this.context.options.maxZoom ? monitorList.map((marker, index) => {\n          //   return <Marker\n          //   key={marker.name + index}\n          //   position={[marker.lat, marker.lng]}\n          //   onClick={this.handleClick.bind(this, marker.id)}\n          //   icon={tipMonitorIcon()}\n          // />\n          // }) :\n          <MarkerCluster\n          markers={monitorList}\n          wrapperOptions={{enableDefaultStyle: true}}\n          markerOptions={{icon: tipMonitorIcon('Default title'), title: 'Default title'}}\n          options={{ maxClusterRadius: 80 }}\n          onMarkerClick={this.handleClick}\n        />\n        }\n        <iframe width=\"0\" height=\"0\" title=\"iframe\" id=\"exe\" ref={this.monitorEle}></iframe>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(MonitorMarkers);\n","function createHTTPActionType(type) {\n  return {\n    START: type,\n    FULFILLED: `${type}_FULFILLED`,\n    REJECTED: `${type}_REJECTED`,\n    PENDING: `${type}_PENDING`,\n  };\n}\nexport const TOGGLE_FORCE_HISTORY_VISIBLE = 'TOGGLE_FORCE_HISTORY_VISIBLE';\nexport const SET_FORCE_HISTORY_LIST = 'SET_FORCE_HISTORY_LIST';\nexport const SELECT_FORCE_HISTORY_ITEM = 'SELECT_FORCE_HISTORY_ITEM';\nexport const HTTP_FETCH_FORCE_HISTORY = createHTTPActionType('HTTP_FETCH_FORCE_HISTORY');\nexport const HTTP_FETCH_FORCE_PATH = createHTTPActionType('HTTP_FETCH_FORCE_PATH');\nexport const SET_FORCE_HISTORY_LIST_ISSELECTED = 'SET_FORCE_HISTORY_LIST_ISSELECTED'\n\nexport const TOGGLE_ALARM_HISTORY_VISIBLE = 'TOGGLE_ALARM_HISTORY_VISIBLE';\nexport const SET_ALARM_HISTORY_LIST = 'SET_ALARM_HISTORY_LIST';\nexport const SET_ALARM_HISTORY_LIST_ISSELECTED = 'SET_ALARM_HISTORY_LIST_ISSELECTED';\nexport const SELECT_ALARM_HISTORY_ITEM = 'SELECT_ALARM_HISTORY_ITEM';\nexport const SET_ALARM_HISTORY_DETAIL = 'SET_ALARM_HISTORY_DETAIL';\nexport const HTTP_FETCH_ALARM_HISTORY = createHTTPActionType('HTTP_FETCH_ALARM_HISTORY');\n\nexport const SELECT_REAL_TIME_MARKER = 'SELECT_REAL_TIME_MARKER';\nexport const SET_REAL_TIME_MARKERS = 'SET_REAL_TIME_MARKERS';\nexport const SET_MAP_PATH = 'SET_MAP_PATH';\nexport const SET_PATH_MOVE_FLAG = 'SET_PATH_MOVE_FLAG';\nexport const SET_MAP_ZOOM = 'SET_MAP_ZOOM';\nexport const SET_MAP_PCSAREA = 'SET_MAP_PCSAREA'\nexport const HTTP_MAP_PCSAREA = createHTTPActionType('HTTP_MAP_PCSAREA');\nexport const SET_MAP_TRAIL = 'SET_MAP_TRAIL';\nexport const HTTP_FETCH_TRAIL = createHTTPActionType('HTTP_FETCH_TRAIL'); // 获取实时车辆\nexport const HTTP_FETCH_RADIO = createHTTPActionType('HTTP_FETCH_RADIO'); // 获取实时电台\nexport const SET_RADIO_TRALL = 'SET_RADIO_TRALL';\nexport const SET_TRANFORM_LEFT = 'SET_TRANFORM_LEFT';\n\n\n// cmpstatus 组建状态\nexport const HTTP_FETCH_ISALARM_COMING = createHTTPActionType('HTTP_FETCH_ISALARM_COMING');\nexport const SET_ISALARM_COMING = 'SET_ISALARM_COMING';\nexport const SET_ISSHOW_CAR_MARKERS = 'SET_ISSHOW_CAR_MARKERS';\nexport const SET_ISSHOW_NETWORK_ALARM_HISTORY = 'SET_ISSHOW_NETWORK_ALARM_HISTORY';\nexport const SET_ISSHOW_NETWORK_FORCEH_ISTORY = 'SET_ISSHOW_NETWORK_FORCE_HISTORY';\nexport const SET_ISSHOW_HEAT_LAYERS = 'SET_ISSHOW_HEAT_LAYERS';\nexport const SET_ISSHOW_RADIO_MARKERS = 'SET_ISSHOW_RADIO_MARKERS';\nexport const SET_ISSHOW_MONITOR_MARKERS = 'SET_ISSHOW_MONITOR_MARKERS';\nexport const SET_ISSHOW_PREV_BUTTON = 'SET_ISSHOW_PREV_BUTTON'; \nexport const SET_ISSHOW_HDPIC_MODAL = 'SET_ISSHOW_HDPIC_MODAL'; // 是否显示高清大图\nexport const SET_ISSHOW_PCSPOLICECALL_MODAL = 'SET_ISSHOW_PCSPOLICECALL_MODAL'; //派出所警情统计modal","import { createAction } from 'redux-actions';\n\nexport function createHttpAction(httpType) {\n  return ({\n    startAction: createAction(httpType.START),\n    pendingAction: createAction(httpType.PENDING),\n    fulfilledAction: createAction(httpType.FULFILLED),\n    rejectAction: createAction(httpType.REJECTED),\n  });\n}\n","import { createAction } from 'redux-actions';\n// import { createHttpAction } from './util';\nimport {\n  SET_MAP_PATH,\n  SELECT_REAL_TIME_MARKER,\n  SET_REAL_TIME_MARKERS,\n  SET_PATH_MOVE_FLAG,\n  SET_ALARM_HISTORY_DETAIL,\n  SET_MAP_ZOOM,\n  HTTP_FETCH_TRAIL,\n  SET_MAP_TRAIL,\n  SET_MAP_PCSAREA,\n  HTTP_MAP_PCSAREA,\n  HTTP_FETCH_RADIO,\n  SET_RADIO_TRALL\n} from '../constants/actionTypes';\nimport { createHttpAction } from './util';\n\nexport const setRealTimeMarkers = createAction(SET_REAL_TIME_MARKERS);\nexport const selectRealTimeMarker = createAction(SELECT_REAL_TIME_MARKER);\nexport const setMapPath = createAction(SET_MAP_PATH);\nexport const setMoveFlag = createAction(SET_PATH_MOVE_FLAG);\nexport const setAlarmHistoryDetail = createAction(SET_ALARM_HISTORY_DETAIL);\nexport const setMapZoom = createAction(SET_MAP_ZOOM);\nexport const fetchMapTrail = createHttpAction(HTTP_FETCH_TRAIL);\nexport const setMapTrail = createAction(SET_MAP_TRAIL);\nexport const fetchMapPCSArea = createHttpAction(HTTP_MAP_PCSAREA);\nexport const setMapPCSArea = createAction(SET_MAP_PCSAREA);\nexport const fetchRadioTrall = createHttpAction(HTTP_FETCH_RADIO);\nexport const setRadioTrall = createAction(SET_RADIO_TRALL);\n","import React, { Component } from 'react';\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\n// import points from './HeatData.json';\nimport { connect } from 'react-redux';\n\n// const mapStateToProps = (state) => {\n//   return {\n//     carMarkers: state.map.carMarkers\n//   }\n// }\n\nconst latlng = [[31.259523,121.302872], [31.218477, 121.426516]]\nconst points = [[31.259523,121.302872, 899],[31.256231,121.302872, 1359],[31.259321,121.302872, 2222],[31.260001,121.302872, 666],[31.261231,121.302872, 666],[31.261231,121.302872, 1279],]\n\n// const points = []\nclass HeatMap extends Component {\n\n  state = {\n    mapHidden: false,\n    layerHidden: false,\n    radius: 18,\n    blur: 18,\n    max: 0.1,\n    // max: 100,\n    limitAddressPoints: true,\n    points: points\n  };\n  componentDidMount() {\n    setInterval(() => {\n      this.setState({\n        points: this.getWifiCount()\n      })\n    }, 2000);\n  }\n  random(num,scope) {\n    return num + Math.random()*scope\n  }\n\n  getWifiCount( ) {\n    // const { points } = this.state;\n    \n    const res = [];\n    const count = 10;\n    latlng.map(lan => {\n      // lan[0]+= 0.005326\n      // lan[1] += 0.0005326\n      for (var i = 0; i < count; i++) {\n        res.push([this.random(lan[0], 0.01), this.random(lan[1], 0.01), parseInt(this.random(0, 1200))])\n      }\n    })\n    return res;\n    console.log(res)\n  }\n\n  render() {\n    // let heat = this.props.carMarkers.map(h => {\n    //   return this.getWifiCount(h.wificount, h.lat, h.lng)\n    // })\n    const { points } = this.state\n\n    const gradient = {\n      '1.00': '#e3000e',\n      '0.99': '#e31006',\n      '0.90': '#ed0400',\n      '0.85': '#f08c16',\n      '0.70': '#fefb00',\n      '0.50': '#bbfe00',\n      '0.00': '#02ff0e',\n    };\n\n    return (\n      <HeatmapLayer\n        points={points}\n        longitudeExtractor={m => m[1]}\n        latitudeExtractor={m => m[0]}\n        gradient={gradient}\n        intensityExtractor={m => parseFloat(m[2])}\n        radius={Number(this.state.radius)}\n        blur={Number(this.state.blur)}\n        max={Number.parseFloat(this.state.max)}\n      />\n    );\n  }\n}\n\n// export default connect(mapStateToProps)(HeatMap);\nexport default HeatMap;\n\n","import { createAction } from 'redux-actions';\r\n// import { createHttpAction } from './util';\r\nimport {\r\n  SET_TRANFORM_LEFT,\r\n  HTTP_FETCH_ISALARM_COMING,\r\n  SET_ISALARM_COMING,\r\n  SET_ISSHOW_CAR_MARKERS,\r\n  SET_ISSHOW_HEAT_LAYERS,\r\n  SET_ISSHOW_MONITOR_MARKERS,\r\n  SET_ISSHOW_NETWORK_ALARM_HISTORY,\r\n  SET_ISSHOW_NETWORK_FORCEH_ISTORY,\r\n  SET_ISSHOW_RADIO_MARKERS,\r\n  SET_ISSHOW_PREV_BUTTON,\r\n  SET_ISSHOW_HDPIC_MODAL,\r\n  SET_ISSHOW_PCSPOLICECALL_MODAL\r\n} from '../constants/actionTypes';\r\nimport { createHttpAction } from './util';\r\n\r\nexport const fetchIsAlarmComing = createHttpAction(HTTP_FETCH_ISALARM_COMING); // 110警情闪烁\r\nexport const setTransFormToLeft = createAction(SET_TRANFORM_LEFT); // 详情动画\r\nexport const setIsAlarmComing = createAction(SET_ISALARM_COMING); // 110警情闪烁\r\nexport const setIshowCarMarkers = createAction(SET_ISSHOW_CAR_MARKERS); // 车辆打点\r\nexport const setIshowHeatLayers = createAction(SET_ISSHOW_HEAT_LAYERS); // 热力图控制\r\nexport const setIshowRadioMarkers = createAction(SET_ISSHOW_RADIO_MARKERS); // 电台控制\r\nexport const setIshowMonitorMarkers = createAction(SET_ISSHOW_MONITOR_MARKERS); // 固定监控点位控制\r\nexport const setIshowNetworkAlarmHistory = createAction(SET_ISSHOW_NETWORK_ALARM_HISTORY); //联网告警历史 \r\nexport const setIshowNetWorkForceHistory = createAction(SET_ISSHOW_NETWORK_FORCEH_ISTORY); //联网警力历史 （一般指车辆）\r\nexport const setIshowPrevButton = createAction(SET_ISSHOW_PREV_BUTTON); // 饼图上一级按钮控制\r\nexport const setIshowHDPICModal = createAction(SET_ISSHOW_HDPIC_MODAL); // 高清图弹框\r\nexport const setIshowPCSPoliceModal = createAction(SET_ISSHOW_PCSPOLICECALL_MODAL); // 派出所警情统计弹框\r\n","import React, { Component, Fragment } from 'react';\nimport L from 'leaflet';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Marker, Tooltip, Popup } from 'react-leaflet';\nimport {\n  selectRealTimeMarker,\n  setAlarmHistoryDetail,\n} from '../../actions/map';\nimport HeatMap from './_HeatMap';\nimport { tipTypeIcon } from './icons';\nimport MarkerCluster from './MarkerCluster';\nimport { MapContext } from './context';\nimport { setMapZoom, fetchMapTrail, fetchRadioTrall } from '../../actions/map';\nimport { fetchIsAlarmComing } from '../../actions/cpmStatus';\n\nconst mapStateToProps = (state) => ({\n  markers: state.map.realTimeMarkers,\n  carMarkers: state.map.carMarkers,\n  radioMarkers: state.map.radioMarkers,\n  alarmMarker: state.map.alarmMarker,\n  forceHistoryMarker: state.map.forceHistoryMarker,\n  movePath: state.map.movePath,\n  iShowCarMarkers: state.map.iShowCarMarkers,\n  iShowRadioMarkers: state.map.iShowRadioMarkers,\n  iShowHeatLayers: state.map.iShowHeatLayers\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators({\n    selectRealTimeMarker,\n    setAlarmHistoryDetail,\n    fetchMapTrail: fetchMapTrail.startAction,\n    fetchIsAlarmComing: fetchIsAlarmComing.startAction,\n    fetchRadioTrall: fetchRadioTrall.startAction\n  }, dispatch),\n});\n\n\nclass RealTimeMarkers extends Component {\n  static contextType = MapContext\n\n  componentDidMount() {\n    const { fetchIsAlarmComing, fetchMapTrail, fetchRadioTrall } = this.props.actions\n    fetchMapTrail()\n    fetchRadioTrall()\n    setInterval(() => {\n      fetchMapTrail();\n      fetchIsAlarmComing();\n      fetchRadioTrall();\n    },5000)\n  }\n\n  handleCarClick(marker) {\n    const { actions } = this.props;\n    // console.log(marker)\n    // this.context.flyTo([marker.lat, marker.lng], 16)\n    actions.selectRealTimeMarker(marker);\n  }\n\n  renderCameraMarker(marker, index) {\n    return (\n      <Marker key={marker.name + index} position={[marker.lat,marker.lng]} icon={tipTypeIcon(marker.type, marker.name)}>\n        <Popup className=\"camera-marker-popup\" direction=\"right\" closeButton={false}>\n          <div className=\"camera-info corner-border\">\n            <div className=\"name\">{marker.name}</div>\n            <div className=\"desc\">接警单编号:{marker.id}</div>\n            {/* <div className=\"desc\">电台呼号:{}</div> */}\n            <div className=\"desc\">姓名:{marker.policeman}</div>\n            <div className=\"desc\">证件号码:{marker.zjhm}</div>\n            <div className=\"desc\">警员编号/车牌号:{marker.busnum1}</div>\n            <div className=\"desc\">警种名称:{marker.jcmc}</div>\n            <div className=\"desc\">单位名称:{marker.dwmc}</div>\n            <div className=\"desc\">电话号码:{marker.dhhm}</div>\n            <div className=\"desc\">纬度: {marker.lat}</div>\n            <div className=\"desc\">经度: {marker.lng}</div>\n          </div>\n        </Popup>\n      </Marker>\n    );\n  }\n\n  renderCarMarkers(markers, index) {\n    return (\n      markers.map((car, index) => (\n        <Marker \n          key={car.name + index} \n          position={[car.lat, car.lng]} \n          icon={tipTypeIcon(1, car.name)}\n          onClick={this.handleCarClick.bind(this, car.id)}\n        >\n        </Marker>\n      ))\n    );\n  }\n\n  renderRadioMarkers(markers) {\n    markers.map(marker => {\n      marker.options = {\n        icon: tipTypeIcon(marker.type, marker.name),\n        type: marker.type,\n        id: marker.id,\n        info: marker\n      }\n    });\n    return <MarkerCluster\n      markers={markers}\n      wrapperOptions={{enableDefaultStyle: true}}\n      // markerOptions={{icon: tipTypeIcon(marker.type, marker.name), title: 'Default title'}}\n      options={{ maxClusterRadius: 80 }}\n      onMarkerClick={this.handleClick.bind(this)}\n      radioMarker\n    />\n  }\n\n  renderWifiMarker(marker, index) {\n    return (\n      <Marker\n        key={marker.name + index}\n        position={[marker.lat, marker.lng]}\n        icon={tipTypeIcon(marker.type, marker.name)}\n      />\n    );\n  }\n\n  renderPeopleMarker(marker, index) {\n    return (\n      <Marker key={marker.name + index} position={[marker.lat, marker.lng]} icon={tipTypeIcon(marker.type, marker.name)}>\n        <Tooltip className=\"destination-tooltip\" direction=\"right\">\n          {marker.name}\n        </Tooltip>\n      </Marker>\n    );\n  }\n\n  renderSelectedMarker(marker) {\n    return (\n      <Marker\n        key={marker.name}\n        position={[marker.lat, marker.lng]}\n        onClick={this.handleCarClick.bind(this, marker)}\n        icon={tipTypeIcon(1, marker.name)}\n      />\n    );\n  }\n  renderAlarmMarker(marker) {\n    const { setAlarmHistoryDetail } = this.props.actions;\n    // 人脸alarmid, 车辆没有alarmid,\n    return (\n      <Marker\n        key={marker.alarmId ? marker.name:marker.plateInfo}\n        position={[marker.lat, marker.lng]}\n        onClick={setAlarmHistoryDetail.bind(this, marker)}\n        icon={tipTypeIcon(marker.alarmId ? 6 : 7, marker.alarmId ? marker.name:marker.plateInfo)}\n      />\n    );\n  }\n  handleClick(opt) {\n    if (opt.options.type === 1) return this.handleCarClick(opt.options.id);\n    if (opt.options.type === 3) {\n      const marker = opt.options.info\n      L.popup({\n        className: 'camera-marker-popup',\n        // closeButton: false\n      })\n        .setLatLng([marker.lat, marker.lng])\n        .setContent(`\n        <div class=\"camera-info camerinfo-border\">\n          <div class=\"name\">${marker.name}</div>\n          <div class=\"desc\">接警单编号 : ${marker.id || ''}</div>\n          <div class=\"desc\">姓名 : ${marker.policeman || ''}</div>\n          <div class=\"desc\">单位 : ${marker.jzdm || ''}</div>\n          <div class=\"desc\">警员编号 : ${marker.zjhm || ''}</div>\n          <div class=\"desc\">警员编号/车牌号:${marker.busnum1 || ''}</div>\n          <div class=\"desc\">电话号码 : ${marker.dhhm || ''}</div>\n          <div class=\"desc\">纬度 : ${marker.lat}</div>\n          <div class=\"desc\">经度 : ${marker.lng}</div>\n        </div>\n      `)\n        .openOn(this.context);\n    }\n  }\n\n  renderHeatLayer() {\n    return <HeatMap />\n  }\n\n  // renderAllMarkers(markerList) {\n  //   markerList.map(marker => {\n  //     marker.options = {\n  //       icon: tipTypeIcon(marker.type, marker.name),\n  //       type: marker.type,\n  //       id: marker.id,\n  //       info: marker\n  //     }\n  //   })\n  //   return (\n  //     <MarkerCluster\n  //       markers={markerList}\n  //       wrapperOptions={{enableDefaultStyle: true}}\n  //       // markerOptions={{icon: tipTypeIcon(marker.type, marker.name), title: 'Default title'}}\n  //       options={{ maxClusterRadius: 80 }}\n  //       onMarkerClick={this.handleClick.bind(this)}\n  //     />\n  //   )\n  // }\n\n  render() {\n    const { \n      markers, alarmMarker, forceHistoryMarker, movePath, \n      iShowCarMarkers, iShowRadioMarkers, carMarkers, \n      radioMarkers, iShowHeatLayers\n    } = this.props;\n    // console.log(markers, forceHistoryMarker);\n    if (movePath) return null;\n    if (forceHistoryMarker && typeof forceHistoryMarker === 'object') {\n      return this.renderSelectedMarker(forceHistoryMarker);\n    }\n    if (alarmMarker) {\n      return this.renderAlarmMarker(alarmMarker);\n    }\n    return (\n      <Fragment>\n        {\n          iShowCarMarkers && this.renderCarMarkers(carMarkers)\n          // this.renderAllMarkers(markers)\n        }\n        {\n          iShowRadioMarkers && this.renderRadioMarkers(radioMarkers)\n        }\n\n        {\n          iShowHeatLayers && this.renderHeatLayer()\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RealTimeMarkers);\n\n","import React from 'react';\r\nimport { GeoJSON } from 'react-leaflet';\r\nimport { MapContext } from '../context';\r\nimport * as turf from '@turf/turf';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { setMapPCSArea } from '../../../actions/map';\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    pcsArea: state.map.pcsArea\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actions: bindActionCreators({\r\n      setMapPCSArea,\r\n    }, dispatch)\r\n  }\r\n}\r\nclass PCSArea extends React.Component {\r\n  static contextType = MapContext\r\n  state = {\r\n    selectName: \"\"\r\n  }\r\n  constructor() {\r\n    super()\r\n  }\r\n  getStyle(ev) {\r\n    return {\r\n      color: \"#13E2FF\",\r\n      weight: 2,\r\n      fillOpacity: 0.1,\r\n      fillColor: '#2DEFFF'\r\n    }\r\n  }\r\n  handleClick(ev) {\r\n    this.props.actions.setMapPCSArea([]);\r\n  }\r\n  render() {\r\n    const { pcsArea } = this.props;\r\n    const data = turf.featureCollection(pcsArea);\r\n    return (\r\n      <>\r\n        <GeoJSON\r\n          data={data}\r\n          onClick={this.handleClick.bind(this)}\r\n          key={data.features.length}\r\n          style={this.getStyle.bind(this)}\r\n        >\r\n        </GeoJSON>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PCSArea);","import React, { useEffect, useContext } from 'react';\nimport data from './highlighted';\nimport * as turf from '@turf/turf';\nimport { GeoJSON, Marker, Tooltip } from 'react-leaflet';\nimport { transformPolygon } from '@/utils/map';\nimport { tipTypeIcon } from '../icons';\nimport { MapContext } from '../context';\nconst d = transformPolygon(data)\n\nfunction useHighLightedAreaEffect() {\n  const context = useContext(MapContext);\n  const getstyle = () => {\n    return {\n      color: \"#13E2FF\",\n      weight: 4,\n      fillOpacity: 0.1,\n      fillColor: '#2DEFFF'\n    }\n  }\n  const handleClick = (f) => {\n    console.log(\"点击了\", f)\n    context.flyTo(f.latlng, 14)\n  }\n\n  useEffect(() => {\n    console.log(d)\n  }, [])\n\n  return [getstyle, handleClick]\n}\n\nconst HighLightedArea = () => {\n  const [getstyle, handleClick] = useHighLightedAreaEffect();\n  console.log(\"渲染\")\n  return (\n    <>\n      <GeoJSON\n        data={turf.featureCollection(d)}\n        style={getstyle}\n      />\n      {\n        d.map(m => {\n          return (\n            <Marker\n              onClick={handleClick}\n              key={m.properties.name}\n              position={m.properties.center.reverse()}\n              icon={tipTypeIcon(8, m.properties.name)}\n            >\n            </Marker>\n         )\n       })\n      }\n    </>\n    // <>\n    // </>\n  )\n}\n\nexport default HighLightedArea;","import React from 'react';\r\nimport L from 'leaflet';\r\nimport { GeoJSON } from 'react-leaflet';\r\nimport shRegion from './shanghai.json';\r\nimport sh from './sh1.json';\r\nimport { connect } from 'react-redux';\r\nimport { MapContext } from '../context';\r\nimport { bindActionCreators } from 'redux';\r\nimport { fetchMapPCSArea } from '../../../actions/map.js';\r\nimport PCSArea from './PCSArea';\r\nimport HighLightedArea from './HighLightedArea.js';\r\nlet markerRecord = undefined;\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actions: bindActionCreators({\r\n      fetchMapPCSArea: fetchMapPCSArea.startAction\r\n    }, dispatch)\r\n  }\r\n}\r\n\r\nclass Area extends React.Component {\r\n\r\n  state = {\r\n    clickAreaName: \"\",\r\n    pscbj: [],\r\n  }\r\n\r\n  static contextType = MapContext;\r\n\r\n  async handleClick(ev) {\r\n    console.log(\"点击了\")\r\n    try {\r\n      if(markerRecord) {\r\n        this.context.removeLayer(markerRecord)\r\n      }\r\n      // this.props.actions.fetchMapPCSArea(ev.sourceTarget.feature.properties.adcode+\"000000\");\r\n      var myIcon = L.divIcon({\r\n        className: `marker-with-tip areaIcon`,\r\n        html: `<span class=areaIconName name>${ev.sourceTarget.feature.properties.name}</span>`,\r\n        iconAnchor: [17, 20],\r\n        iconSize: [44, 38],\r\n        popupAnchor: [0, -20],\r\n      });\r\n\r\n      const position = [...ev.sourceTarget.feature.properties.centroid]\r\n      markerRecord = L.marker(position.reverse(), {icon: myIcon}).addTo(this.context);\r\n      this.context.flyTo(position, 12)\r\n    } catch (error) {\r\n      console.error(\"查询失败\", error)\r\n    }\r\n  }\r\n\r\n  setStyle(undef, region) {\r\n    return {\r\n      color: region ? 'transparent':'#13E2FF',\r\n      weight: 2,\r\n      fillOpacity:0,\r\n      fillColor: 'transparent',   \r\n      className: region ? '' : 'sh'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <HighLightedArea />\r\n        <GeoJSON\r\n          data={shRegion}\r\n          style={this.setStyle.bind(this, 'region')}\r\n          onClick={this.handleClick.bind(this)}\r\n        />\r\n        <GeoJSON\r\n          data={sh}\r\n          style={this.setStyle}\r\n        />\r\n        <PCSArea\r\n          isSelectedTheSameArea={this.state.isSelectedTheSameArea}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Area);","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { setIshowHDPICModal } from '../../actions/cpmStatus';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isShowHDPICModal: state.cmpStatus.isShowHDPICModal\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        actions: bindActionCreators({\r\n            setIshowHDPICModal\r\n        }, dispatch)\r\n    }\r\n}\r\n\r\nconst HDPICModal = ({isShowHDPICModal, actions}) => {\r\n    const {ishow, hdpic, name, time, address, type} = isShowHDPICModal;\r\n    const onCancel = () => {\r\n        actions.setIshowHDPICModal({})\r\n    }\r\n    return (\r\n        <Modal\r\n            visible={ishow}\r\n            title={address}\r\n            width=\"60%\"\r\n            // height={800}\r\n            footer={null}\r\n            onCancel={onCancel}\r\n            className=\"corner-border resetModalStye\"\r\n        >\r\n            <div>\r\n                <p>{`${type === '人脸告警' ? '姓名':'车牌'}: ${name}`}</p>\r\n                <p>时间：{time}</p>\r\n                <p>地点：{address}</p>\r\n            </div>\r\n            <img \r\n            src={hdpic}\r\n            style={{width: '100%'}}\r\n            />\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HDPICModal);","import React, { Component, Fragment, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { Map, TileLayer } from 'react-leaflet';\nimport { MapContext } from './context';\nimport Path from './Path';\nimport MonitorMarkers from './MonitorMarkers';\nimport RealTimeMarker from './RealTimeMarker';\n\nimport './index.styl';\nimport Area from './Area/index';\nimport HDPICModal from '../../components/HDPICModal';\n\nconst mapStateToProps = (state) => ({\n  center: state.map.center,\n});\n\n\nlet isUpdateZoom = false\n\nclass MapOperation extends Component {\n  mapEle = createRef();\n  state = {\n    leafletEle: null,\n    zoom: 13\n  };\n\n  handleClick = (ev) => {\n    console.log(ev);\n  }\n\n  componentDidMount() {\n    this.setState({\n      leafletMap: this.mapEle.current.leafletElement,\n    });\n  }\n\n  renderTileLayer() {\n    return (\n      <Fragment>\n        <TileLayer url=\"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}\" />\n      </Fragment>\n    );\n  }\n\n  // renderTileLayer() {\n  //   return (\n  //     <Fragment>\n  //       <TileLayer url=\"http://15.75.0.255:25003/v3/tile?z={z}&y={y}&x={x}\" />\n  //       <TileLayer url=\"http://15.75.0.255:25033/v3/tile?z={z}&y={y}&x={x}\" />\n  //       <TileLayer url=\"http://15.75.0.255:25777/v3/tile?z={z}&y={y}&x={x}\" />\n  //     </Fragment>\n  //   )\n  // }\n\n  render() {\n    const { center } = this.props;\n    return (\n      <MapContext.Provider value={this.state.leafletMap}>\n        <Map\n          className=\"map-wrapper\"\n          attributionControl={false}\n          center={[center.lat, center.lng]}\n          zoom={this.state.zoom}\n          zoomSnap={0}\n          onClick={this.handleClick}\n          zoomControl={false}\n          ref={this.mapEle}\n          maxZoom={18}\n          minZoom={6}\n          // onZoomEnd={this.onZoomEnd.bind(this)} //监听地图缩放级别\n        >\n          {this.renderTileLayer()}\n          {/* <CarMarkers /> */}\n          {/* <PeopleMarkers /> */}\n\n          {/* <CarMarkers /> */}\n          <Area />\n          <MonitorMarkers />\n          <RealTimeMarker />\n          <Path />\n          <HDPICModal />\n        </Map>\n      </MapContext.Provider>\n    );\n  }\n}\n\nexport default connect(mapStateToProps)(MapOperation);\n","import React from 'react';\nimport './index.styl';\nimport police from './police.png'\nfunction Header() {\n  return (\n    <h1 className=\"header-wrapper\">\n      <img src={police}/>智慧街面巡防治安管控信息系统（1.0版）\n    </h1>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport classnames from 'classnames';\n\nfunction FileIcon({ className, type }) {\n  console.log(className, type)\n  return <i className={classnames('zivicon', `icon-${type}`, className)}></i>\n}\n\nexport default FileIcon;","import React from 'react';\nimport FontIcon from '../FontIcon';\nimport bgImg from './bg.png';\nimport './index.styl';\n\nfunction Title({ name, onClose }) {\n  return (\n    <h4 className=\"title-wrapper\">\n      <span>\n        {name}\n        <img src={bgImg} alt=\"\" style={{width: 100}}/>\n      </span>\n      <button onClick={onClose}>\n        <FontIcon type=\"close\" className=\"close-btn\" />\n      </button>\n    </h4>\n  );\n}\n\nexport default Title;\n","// 图片懒加载\nimport React, { useEffect } from 'react';\nimport demoImage from './demo.png';\n\nconst threshold = [0.1] // 这是触发时机 0.01代表出现 1%的面积出现在可视区触发一次回掉函数 threshold = [0, 0.25, 0.5, 0.75]  表示分别在0% 25% 50% 75% 时触发回掉函数\n\n// 利用 IntersectionObserver 监听元素是否出现在视口\nconst io = new IntersectionObserver((entries) => { // 观察者\n  entries.forEach((item) => { // entries 是被监听的元素集合它是一个数组\n    if (item.intersectionRatio <= 0) return // intersectionRatio 是可见度 如果当前元素不可见就结束该函数。\n    const {target} = item\n    target.src = target.dataset.src // 将 h5 自定义属性赋值给 src (进入可见区则加载图片)\n    io.unobserve(target); // 停止观察当前元素 避免不可见时候再次调用callback函数\n  })\n}, {\n  threshold, // 添加触发时机数组\n});\n\nconst ImageLazyLoad = ({ imgsrc, imgClick }) => {\n  const imgRef = React.useRef();\n  // const onload = () => {\n  //   console.log(\"测试\")\n  //   io.observe(imgRef.current)\n  // }\n  useEffect(() => {\n    io.observe(imgRef.current)\n    return () => {\n      io.disconnect(imgRef.current); // 组件卸载时取消监听;\n    }\n  }, [])\n  return (\n    <img data-src={imgsrc} src=\"\" ref={imgRef} onClick={imgClick} />\n  )\n}\n\nImageLazyLoad.defaultProps = {\n  imgClick: () => { },\n  imgsrc: demoImage\n}\n\nexport default ImageLazyLoad;","import React from 'react';\nimport demoImg from './demo.png';\nimport { setIshowHDPICModal } from '../../../actions/cpmStatus';\nimport './index.styl';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport ImageLazyLoad from '../../../components/ImageLazyLoad';\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators({\n      setIshowHDPICModal\n    },dispatch)\n  }\n}\n\nfunction AlarmItem(item) {\n  const { onClick } = item;\n  let type, name, time, imgsrc, address, hdpic;\n\n  if (item.alarmId) {\n    type = '人脸告警';\n    address = item.cameraName\n    name = item.humanName;\n    time = item.alarmTime;\n    imgsrc = item.facePicUrl\n    hdpic = item.bkgPicUrl\n  } else {\n    type = '车辆告警';\n    name = item.plateInfo;\n    // time = new Date(+item.passtime).toLocaleString('zh', { hour12: false });\n    time = item.passTimeStr\n    imgsrc = item.picPlate\n    address = item.crossingName\n    hdpic = item.picVehicle\n  }\n  // imgsrc=\"http://img4.imgtn.bdimg.com/it/u=3565682627,2876030475&fm=26&gp=0.jpg\"\n  const imgClick = () => {\n    item.actions.setIshowHDPICModal({\n      hdpic,\n      ishow: true,\n      name,\n      time,\n      address,\n      type\n    })\n  }\n  return (\n    <li className=\"real-time-alarm-item\" onClick={onClick}>\n      <ImageLazyLoad imgsrc={imgsrc} imgClick={imgClick}/>\n      {/* <img src={imgsrc} alt=\"\" onClick={imgClick.bind(this,hdpic, name, time, address, type)}/> */}\n      <div className=\"alarm-desc\">\n        <div className=\"type-name\">\n          {/* <span>{type}</span> */}\n          <span className=\"name\">{item.alarmId ? '姓名' : '车辆'}: {name}</span>\n          <span>地址: {address}</span>\n        </div>\n        <div className=\"time\">\n          告警时间：{time}\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default connect(null,mapDispatchToProps)(AlarmItem);\n","import { createAction } from 'redux-actions';\nimport { createHttpAction } from './util';\nimport {\n  TOGGLE_ALARM_HISTORY_VISIBLE,\n  SET_ALARM_HISTORY_LIST,\n  HTTP_FETCH_ALARM_HISTORY,\n  SELECT_ALARM_HISTORY_ITEM,\n  SET_ALARM_HISTORY_LIST_ISSELECTED\n} from '../constants/actionTypes';\n\nexport const toggleAlarmHistoryVisible = createAction(TOGGLE_ALARM_HISTORY_VISIBLE);\nexport const setAlarmHistoryList = createAction(SET_ALARM_HISTORY_LIST);\nexport const selectAlarmItem = createAction(SELECT_ALARM_HISTORY_ITEM);\nexport const setAlarmHistoryListIsSelected = createAction(SET_ALARM_HISTORY_LIST_ISSELECTED);\n\nexport const fetchAlarmHistory = createHttpAction(HTTP_FETCH_ALARM_HISTORY);\n","import React, { Component, Fragment } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Title from '../../components/Title';\nimport AlarmItem from './AlarmItem';\nimport {\n  selectAlarmItem,\n} from '../../actions/alarmHistory';\nimport { getRealAlarm } from '../../request/api';\nimport alarmIcon from './alarmIcon.png';\n\nimport './index.styl';\n\nconst mapDispatchProps = (dispatch) => ({\n  actions: bindActionCreators({\n    selectAlarmItem,\n  }, dispatch),\n});\nclass RealTimeAlarm extends Component {\n  state = {\n    hideList: true,\n    alarmList: [],\n  };\n\n  toggleAlarmVisible = () => {\n    this.setState({\n      hideList: !this.state.hideList,\n    });\n    clearInterval(this.timer);\n    this.timer = setInterval(() => {\n      this.fetchList();\n    }, 5000);\n  }\n\n  onSelectItem = () => {\n    // const { actions } = this.props;\n    // actions.selectAlarmItem(item.id);\n  }\n\n  componentDidMount() {\n    this.fetchList();\n  }\n\n  componentWillUnmount() {\n    this.timer && clearInterval(this.timer);\n  }\n\n  async fetchList() {\n    const { data } = await getRealAlarm();\n    this.setState({\n      alarmList: data,\n    });\n  }\n\n  renderIcon() {\n    return <img onClick={this.toggleAlarmVisible} className=\"alarm-icon\" src={alarmIcon} alt=\"警告\" />;\n    // return <span className=\"alarm-icon\"></span>\n  }\n\n  renderContent() {\n    const { alarmList } = this.state;\n    return (\n      <div className=\"real-time-alarm-info\">\n        <Fragment>\n          <Title\n            name=\"实时告警\"\n            onClose={this.toggleAlarmVisible}\n          />\n          <ul className=\"alarm-item-list corner-border\">\n            {\n              alarmList.map((item) => {\n               return <AlarmItem\n                  onClick={this.onSelectItem.bind(this, item)}\n                  key={item.alarmId || item.id}\n                  {...item}\n                />\n              })\n            }\n          </ul>\n        </Fragment>\n      </div>\n    );\n  }\n\n  render() {\n    const { hideList } = this.state;\n    return (\n      <div className=\"real-time-alarm-wrapper\">\n        {hideList ? this.renderIcon() : this.renderContent()}\n      </div>\n    )\n  }\n}\n\nexport default connect(null, mapDispatchProps)(RealTimeAlarm);\n","import React, { Component } from 'react';\nimport { DatePicker } from 'antd';\n// import moment from 'moment';\nimport './index.styl';\n\nconst { RangePicker } = DatePicker;\n\nclass TimeRangeSearch extends Component {\n  pickerStyle = {\n    width: '60%',\n    background: 'rgba(71,156,223,0.30)',\n  };\n  \n\n  onTimeChange(undef, time) {\n    console.log(time, \"shijian\")\n    this.props.onTimeChange(time)\n  }\n\n  render() {\n    const { onTimeChange, onSearch, history, selectName } = this.props;\n    return (\n      <div className=\"time-range-search-wrapper\">\n        {\n          history &&\n           <>\n            {/* <RangePicker\n              className=\"time-range-wrapper\"\n              showTime\n              size=\"large\"\n              style={this.pickerStyle}\n              separator=\"-\"\n              format=\"YYYY-MM-DD HH:mm:ss\"\n              onChange={onTimeChange}\n              placeholder={['开始时间', '结束时间']}\n            /> */}\n            <DatePicker\n              className=\"data-picker\"\n              showTime\n              size=\"large\"\n              style={this.pickerStyle}\n              separator=\"-\"\n              format=\"YYYY-MM-DD HH:mm:ss\"\n              onChange={this.onTimeChange.bind(this)}\n              placeholder=\"选择时间\"\n              />\n            <button\n          className=\"search-btn\"\n          onClick={onSearch}\n          // onClick={() => this.props.renderPoliceAll(false)}\n        >搜&nbsp;&nbsp;索</button>\n           </>\n        }\n        {\n          !history &&\n          <>\n          <button\n          className=\"search-btn\"\n          style={{\n            background: !selectName ? '#68E0FB':'#05121C',\n            color: !selectName ? 'black' : 'white',\n        }}\n          onClick={() => this.props.renderPoliceAll(false)}\n        >实时警情</button>\n        <button\n          className=\"search-btn\"\n              style={{\n                 background: selectName ? '#68E0FB' : '#05121C',\n                 color: selectName ? 'black' : 'white',\n            }}\n          onClick={() => this.props.renderPoliceAll(true)}\n        >分局统计</button>\n          </>\n        }\n      </div>\n    );\n  }\n}\n\nexport default TimeRangeSearch;\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport icon from './icon2.png';\r\nimport alarm from './alarm.png';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      isAlarmComing: state.cmpStatus.isAlarmComing\r\n    }\r\n  }\r\n\r\nconst RenderIcon = ({togglePoliceVisible, isAlarmComing}) => {\r\n    return (\r\n        <>\r\n            <img onClick={togglePoliceVisible} className={\"police-call-icon police-alarm-status \" + isAlarmComing} src={alarm} alt=\"110\" />;\r\n            <img onClick={togglePoliceVisible} className=\"police-call-icon \" src={icon} alt=\"110\" />;\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(RenderIcon)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        iShowPrevButton: state.cmpStatus.iShowPrevButton\r\n    }\r\n}\r\n\r\nconst PrevButton = ({iShowPrevButton, prevHandleClick}) => {\r\n    return (\r\n        <>\r\n        {\r\n            iShowPrevButton && \r\n            <button  \r\n                onClick={prevHandleClick}\r\n                style={{\r\n                    background: \"#68e0fb\",\r\n                    borderRadius: 10,\r\n                    outline: 'none',\r\n                    fontSize: 18,\r\n                    width: 80,\r\n                    textAlign:'center',\r\n                    letterSpacing: 2,\r\n                    marginLeft: 20,\r\n                    cursor: 'pointer',\r\n                    border: 'none'\r\n                }}\r\n            >上一级</button>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(PrevButton);","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport echarts from 'echarts';\nimport { connect } from 'react-redux';\nimport { setIshowPrevButton, setIshowPCSPoliceModal } from '../../actions/cpmStatus';\nimport './index.styl';\nimport PrevButton from './PrevButton';\n\nconst mapDipatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators({\n      setIshowPrevButton,\n      setIshowPCSPoliceModal\n    }, dispatch)\n  }\n}\n\nclass PieChart extends React.Component {\n  pieChart = React.createRef()\n\n  componentDidMount() {\n    this.createPieChart()\n  }\n  createPieChart() {\n    const { data, name } = this.props\n    var mychart = echarts.init(this.pieChart.current);\n    mychart.setOption({\n      title: {\n        // text: '今日警情统计',\n        // subtext: `${moment().format('YYYY MM DD')}`,\n        subtext: `${name ? name : '全市'}警情分布`,\n        x: 'center',\n        textStyle: {\n          color: 'white',\n        },\n        subtextStyle: {\n          color: 'white',\n          fontSize: 18\n        },\n        y: 'center'\n      },\n      tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n      },\n      label: {\n        fontSize: 20\n    },\n  series : [\n    {\n        name: '警情统计',\n        type: 'pie',\n        radius: ['29%', '59%'],\n        center: ['50%', '50%'],\n        label:{\n          show:true,\n          formatter:'{b}: {d}%',\n        },\n    data: data.map(e => {\n      return {value: e['allnum'], name: e.name, fkdw: e.fkdw || 0}\n    }),\n    // data : [{value: 70, name: 1}, {value: 20, name: 2}],\n    itemStyle: {\n      normal: {\n        fontSize:20\n      },\n      emphasis: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)',\n        fontSize: 20\n      }\n    }\n    }\n  ]})\n\n  mychart.on('click', (e) => {\n    const { fkdw, name } = e.data;\n    if(!+fkdw) return; // 区分点击的是分局还是派出所;\n    // this.props.fetchStatistical(fkdw, name)\n    // this.props.actions.setIshowPrevButton(true)\n    this.props.actions.setIshowPCSPoliceModal({\n      iShow: true,\n      name,\n      fkdw\n    })\n  })\n  }\n\n  \n  prevHandleClick() {\n    this.props.actions.setIshowPrevButton(false)\n    this.props.fetchStatistical()\n  }\n\n  render() {\n    const { data, name } = this.props;\n    const  sortData = [...data]\n    \n    return (\n      <div className=\"piechart\">\n        <h2>{`${name ? name : '全市'}警情分布`}</h2>\n        <PrevButton \n          prevHandleClick={this.prevHandleClick.bind(this)}\n        />\n        <div ref={this.pieChart} style={{width: '100%', height: '400px'}}>\n\n        </div>\n        <h2>{`${name ? name : '全市'}统计`}</h2>\n        <ul>\n          {\n            sortData.sort((a, b) => {\n              return b.allnum - a.allnum\n            }).map(d => {\n              return <li key={d.fkdw}>{`${d.name} ${d['allnum']}`}</li>\n            })\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default connect(null, mapDipatchToProps)(PieChart);","import React from 'react';\nimport echarts from 'echarts';\nimport { getOption } from './config';\nclass TodayStatisics extends React.PureComponent {\n\n  columnarChart = React.createRef();\n  \n  componentDidMount() {\n    this.createChart()\n  }\n  \n  createChart() {\n    const { total, deal } = this.props;\n    var mychart = echarts.init(this.columnarChart.current);\n    mychart.setOption(getOption(total, deal))\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>{this.props.title}</h2>\n        <div ref={this.columnarChart} style={{height: \"100px\"}}>\n\n        </div>\n      </div>\n    )\n  }\n}\n\nTodayStatisics.defaultProps = {\n  title: \"全市警情统计\"\n}\n\nexport default TodayStatisics;","export const getOption = (total, deal) => {\n  var option = {\n    grid: {\n      left: '5%',\n      top: '12%',\n      right: '0%',\n      bottom: '8%',\n      containLabel: true\n    },\n    legend: {\n      // x: '%',\n      top: '5%',\n      bottom: '5%',\n      textStyle: {\n        color: '#90979c',\n      },\n      \"data\": ['出警', '警情']\n    },\n    xAxis: [{\n      show: false,\n    }],\n    yAxis: [{\n      show: false,\n      axisTick: 'none',\n      axisLine: 'none',\n      // offset: '27',\n      axisLabel: {\n        textStyle: {\n          color: '#ffffff',\n          fontSize: '16',\n        }\n      },\n      data: [deal]\n    }, {\n      show: false,\n      axisTick: 'none',\n      axisLine: 'none',\n      axisLabel: {\n        textStyle: {\n          color: '#ffffff',\n          fontSize: '16',\n        }\n      },\n      data: [total]\n      }, {\n        show: false,\n      axisLine: {\n        lineStyle: {\n          color: 'rgba(0,0,0,0)'\n        }\n      },\n      data: [],\n    }],\n    series: [{\n      name: '出警',\n      type: 'bar',\n      stack: '圆',\n      yAxisIndex: 0,\n      data: [deal],\n      label: {\n        normal: {\n          show: true,\n          position: 'inside',\n          distance: 10,\n          textStyle: {\n            color: '#ffffff',\n            fontSize: '16',\n          }\n        }\n      },\n      barWidth: 20,\n      itemStyle: {\n        normal: {\n          color: '#58BCB6',\n          barBorderRadius: 5\n        }\n      },\n      z: 2\n    }, {\n      name: '警情',\n      type: 'bar',\n      yAxisIndex: 1,\n      barGap: '-100%',\n      data: [total],\n      barWidth: 20,\n      label: {\n        normal: {\n          show: true,\n          position: 'insideRight',\n          distance: 10,\n          textStyle: {\n            color: '#ffffff',\n            fontSize: '16',\n          }\n        }\n      },\n      itemStyle: {\n        normal: {\n          color: '#F9E559',\n          barBorderRadius: 5,\n        }\n      },\n      z: 1\n    }]\n  };\n  return option;\n}","import React from 'react';\nimport classnames from 'classnames';\n\nconst DayOrMonth = ({type, changeType}) => {\n  return (\n    <div className=\"day-or-month\">\n      <span\n        onClick={() => changeType(1)}\n        className={classnames({ active: type === 1 })}\n      >日</span>\n      <span\n        onClick={() => changeType(2)}\n        className={classnames({ active: type === 2 })}\n      >月</span>\n    </div>\n  )\n}\n\nexport default DayOrMonth;","import React from 'react';\r\nimport PieChart from '../../../../components/PieChart';\r\nimport TodayStatisics from '../../../../components/TodayStatistics';\r\nimport DayOrMonth from '@/components/DayOrMonth';\r\nimport { getPoliceStationStatistical } from '../../../../request/api';\r\nimport { getuuid } from '../../../../utils/func';\r\n\r\nclass RenderChart extends React.Component {\r\n  state = {\r\n    list: [],\r\n    statistical: [],\r\n    name: '全市',\r\n    deal: 0,\r\n    type: 2\r\n  };\r\n  timer = null;\r\n  componentDidMount() {\r\n    this.fetchStatistical();\r\n  }\r\n  async fetchStatistical(dm = undefined, name = undefined, type = 2) {\r\n    const { data } = await getPoliceStationStatistical({ dm, name, type });\r\n    this.setState({\r\n      statistical: data.list,\r\n      total: data.allnum,\r\n      deal: data.dealnum,\r\n      name: data.name\r\n    })\r\n  }\r\n\r\n  changeType(type) {\r\n    this.setState({\r\n      type\r\n    }, () => {\r\n      this.fetchStatistical(undefined, undefined, type);\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { statistical, total, deal, name, type } = this.state;\r\n    return (\r\n      <div className=\"police-statistical corner-border\">\r\n        <DayOrMonth\r\n          changeType={this.changeType.bind(this)}\r\n          type={type}\r\n        />\r\n        <TodayStatisics\r\n          deal={deal}\r\n          total={total}\r\n          key={getuuid()}\r\n        />\r\n        <PieChart\r\n          data={statistical}\r\n          fetchStatistical={this.fetchStatistical.bind(this)}\r\n          key={getuuid()}\r\n          name={name}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RenderChart;","import React from 'react';\r\nimport moment from 'moment';\r\nimport { getPoliceCall } from '../../../../request/api';\r\nclass RenderList extends React.Component {\r\n  state = {\r\n    list: []\r\n  }\r\n  timer = null;\r\n  componentDidMount() {\r\n    this.fetchList();\r\n    this.timer = setInterval(() => {\r\n      this.fetchList();\r\n    }, 3000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timer)\r\n    this.setState = () => {\r\n      return;\r\n    }\r\n    // this.fetchList = null\r\n    // console.log(this.timer)\r\n  }\r\n\r\n  async fetchList() {\r\n    const { data } = await getPoliceCall();\r\n    this.setState({\r\n      list: data,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { list } = this.state;\r\n    return (\r\n      <div className=\"corner-border police-call-list\">\r\n        {\r\n          list.map((item, index) => (\r\n            <div className=\"police-call-item\" key={item.dwdZjid + index}>\r\n              <div className=\"desc\">\r\n                <span>反馈单号：{item.fkdbh}</span>\r\n                <span>反馈时间：{moment(item.dwRksj, 'YYYYMMDDHHmmss').format('YYYY-MM-DD HH:mm:ss')}</span>\r\n                <span>处理民警姓名：{item.fkrxm}</span>\r\n                <span>处理案情单位：{item.fkdwmc}</span>\r\n                <span>处理民警警号：{item.fkrgh}</span>\r\n                <span>案&nbsp;&nbsp;由：{item.aymc === 'null' ? '' : item.aymc}</span>\r\n              </div>\r\n              <div className=\"text\">\r\n                <span>出警情况：{item.cjqk}</span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RenderList;","import React, { Component } from 'react';\nimport Title from '../../components/Title';\nimport TimeRangeSearch from '../../components/TimeRangeSearch';\nimport './index.styl';\nimport RenderIcon from './Components/RenderIcon';\nimport RenderChart from './Components/RenderChart';\nimport RenderList from './Components/RenderList';\n\n\nlet i = 0;\n\nclass PoliceCall extends Component {\n  state = {\n    hideList: true,\n    timeRange: [],\n    list: [],\n    type: false,\n    statistical:[],\n    name: '全市'\n  };\n  timer = null;\n  pieChart = React.createRef()\n  constructor() {\n    super()\n    this.renderPoliceAll = this.renderPoliceAll.bind(this)\n  }\n\n  togglePoliceVisible = () => {\n    this.setState({\n      hideList: !this.state.hideList,\n    })\n  }\n\n  renderIcon() {\n    return (\n      <RenderIcon togglePoliceVisible={this.togglePoliceVisible.bind(this)}/>\n    )\n  }\n\n  renderPoliceAll(bl) {\n    this.setState({\n      type: bl\n    })\n  }\n\n  renderType() {\n    if(this.state.type) {\n      return (\n        <RenderChart />\n      )\n    } else {\n      return <RenderList />\n    }\n  }\n\n  renderContent() {\n    return (\n      <div className=\"police-call-info\">\n        <Title\n          name=\"110联网警情\"\n          onClose={this.togglePoliceVisible}\n        />\n        <TimeRangeSearch selectName={this.state.type} onSearch={this.onSearch} renderPoliceAll={this.renderPoliceAll} onTimeChange={this.onTimeChange} />\n        {\n          this.renderType()\n        }\n      </div>\n    );\n  }\n\n  render() {\n    const { hideList } = this.state;\n    return (\n      <div className=\"police-call-wrapper\">\n        {hideList ? this.renderIcon() : this.renderContent()}\n      </div>\n    )\n  }\n}\n\nexport default PoliceCall;\n","import { createAction } from 'redux-actions';\nimport { createHttpAction } from './util';\nimport {\n  TOGGLE_FORCE_HISTORY_VISIBLE,\n  SET_FORCE_HISTORY_LIST,\n  HTTP_FETCH_FORCE_HISTORY,\n  HTTP_FETCH_FORCE_PATH,\n  SELECT_FORCE_HISTORY_ITEM,\n  SET_FORCE_HISTORY_LIST_ISSELECTED\n} from '../constants/actionTypes';\n\nexport const selectForceHistoryItem = createAction(SELECT_FORCE_HISTORY_ITEM);\nexport const toggleForceHistoryVisible = createAction(TOGGLE_FORCE_HISTORY_VISIBLE);\nexport const setForceHistoryList = createAction(SET_FORCE_HISTORY_LIST);\nexport const fetchForceHistory = createHttpAction(HTTP_FETCH_FORCE_HISTORY);\nexport const fetchForcePath = createHttpAction(HTTP_FETCH_FORCE_PATH);\nexport const setForceHistoryListIsSelected = createAction(SET_FORCE_HISTORY_LIST_ISSELECTED);\n","import React from 'react';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  toggleForceHistoryVisible,\r\n  fetchForceHistory,\r\n  selectForceHistoryItem\r\n} from '../../../../actions/forceHistory';\r\nimport {\r\n  selectRealTimeMarker,\r\n} from '../../../../actions/map';\r\n// import './index.styl';\r\nimport { message } from 'antd';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    forceHistoryVisible: state.forceHistory.visible,\r\n    forceHistoryList: state.forceHistory.list,\r\n    // movePath: state.map.movePath\r\n  });\r\n  const mapDispatchProps = (dispatch) => ({\r\n    actions: bindActionCreators({\r\n      toggleForceHistoryVisible,\r\n      fetchForceHistory: fetchForceHistory.startAction,\r\n      selectForceHistoryItem,\r\n      selectRealTimeMarker\r\n    }, dispatch),\r\n  });\r\n  \r\n\r\nclass ForceHistoryList extends React.Component {\r\n\r\n    state = {\r\n        timeRange: {},\r\n        selectId: null,\r\n      }    \r\n\r\n      static getDerivedStateFromProps(props, state) {\r\n        if (!props.forceHistoryVisible) {\r\n          return {\r\n            selectedId: null,\r\n          };\r\n        }\r\n        return null;\r\n      }\r\n\r\n    \r\n      onTimeChange = (dates) => {\r\n        console.log(dates);\r\n      }\r\n    \r\n      onSearch = () => {\r\n        console.log('search');\r\n      }\r\n    \r\n    \r\n      onSelectItem = (item) => {\r\n        this.setState({\r\n          selectId: item.id\r\n        })\r\n        const { actions } = this.props;\r\n        if (!item.lat && !item.lng) {\r\n          return message.error(\"暂无定位信息\")\r\n        }\r\n        actions.selectForceHistoryItem(item);\r\n        actions.selectRealTimeMarker(null);\r\n      }\r\n    \r\n    renderForceList() {\r\n        const { forceHistoryList } = this.props;\r\n        const { selectId } = this.state;\r\n        return (\r\n          <ul className=\"force-list corner-border\">\r\n            {\r\n              forceHistoryList.map((item, index) => {\r\n                return (\r\n                <li key={item.name + index} ref=\"li\" onClick={() => this.onSelectItem(item)} className={`${item.id === selectId ? 'active force-item' : 'force-item'} `}>\r\n                  <img src={item.pic} alt=\"\" />\r\n                  <div className=\"force-desc\">\r\n                    <span className=\"name\">\r\n                      {item.name}\r\n                    </span>\r\n                    <span className=\"item\">\r\n                      所属派出所：{item.pcs}\r\n                    </span>\r\n                    <span className=\"item\">\r\n                      日期：{item.createTime}\r\n                    </span>\r\n                  </div>\r\n                </li>\r\n               )\r\n              })\r\n            }\r\n          </ul>\r\n        );\r\n    }\r\n    componentDidMount() {\r\n        const { actions } = this.props;\r\n        actions.fetchForceHistory();\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n             {this.renderForceList()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(ForceHistoryList)","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport ForceHistoryList from './Component/ForceHistoryList';\nimport Title from '../../components/Title';\nimport {\n  toggleForceHistoryVisible,\n  selectForceHistoryItem\n} from '../../actions/forceHistory';\nimport {\n  selectRealTimeMarker,\n} from '../../actions/map';\nimport './index.styl';\n\nconst mapStateToProps = (state) => ({\n  forceHistoryVisible: state.forceHistory.visible,\n  // forceHistoryList: state.forceHistory.list,\n  movePath: state.map.movePath\n});\n\nconst mapDispatchProps = (dispatch) => ({\n  actions: bindActionCreators({\n    toggleForceHistoryVisible,\n    selectForceHistoryItem,\n    selectRealTimeMarker,\n  }, dispatch),\n});\n\nclass NetworkForceHistory extends Component {\n  handleClose = () => {\n    const { actions } = this.props;\n    actions.toggleForceHistoryVisible(false);\n    actions.selectRealTimeMarker(null);\n    actions.selectForceHistoryItem(null);\n  }\n  render() {\n    const { forceHistoryVisible, movePath } = this.props;\n    if (movePath)  return null;\n    return (\n      <>\n      {\n        forceHistoryVisible && \n        <div className=\"network-force-history-wrapper\">\n        <Title name=\"联网警力历史\" onClose={this.handleClose} />\n        {/* <TimeRangeSearch onSearch={this.onSearch} history onTimeChange={this.onTimeChange} /> */}\n        <ForceHistoryList />\n      </div>\n      }\n      </>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(NetworkForceHistory);\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport TimeRangeSearch from '../../components/TimeRangeSearch';\nimport Title from '../../components/Title';\nimport ImageLazyLoad from '../../components/ImageLazyLoad';\nimport {\n  toggleAlarmHistoryVisible,\n  fetchAlarmHistory,\n  selectAlarmItem,\n  setAlarmHistoryListIsSelected\n} from '../../actions/alarmHistory';\n\nimport './index.styl';\nimport { message } from 'antd';\n\nconst mapStateToProps = (state) => ({\n  alarmHistoryVisible: state.alarmHistory.visible,\n  alarmHistoryList: state.alarmHistory.list,\n  movePath: state.map.movePath\n});\nconst mapDispatchProps = (dispatch) => ({\n  actions: bindActionCreators({\n    toggleAlarmHistoryVisible,\n    fetchAlarmHistory: fetchAlarmHistory.startAction,\n    selectAlarmItem,\n    setAlarmHistoryListIsSelected\n  }, dispatch),\n});\n\n\n\nclass NetworkAlarmHistory extends Component {\n  state = {\n    tabActive: 'face', // face car\n    timeRange: '',\n    selectedId: null\n  }\n\n  alarm = '';\n\n  componentDidUpdate(pp) {\n    if (this.props.alarmHistoryVisible && !pp.alarmHistoryVisible) {\n      this.onSearch();\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.alarm)\n  }\n\n  handleClose = () => {\n    const { actions } = this.props;\n    actions.toggleAlarmHistoryVisible(false);\n  }\n\n  switchTab = ({ target }) => {\n    if (target.dataset.type) {\n      this.setState({ tabActive: target.dataset.type, timeRange: '' }, () => {\n        this.onSearch();\n      });\n    }\n  }\n\n  onSelectItem = (item) => {\n    if(!+item.latitude || !+item.longitude ) return message.warning(\"暂无定位信息\");\n    this.setState({\n      selectedId: item.id\n    })\n    const { actions } = this.props;\n    item.type = this.state.tabActive;\n    actions.selectAlarmItem(item);\n  }\n\n  onTimeChange = (time) => {\n    this.setState({\n      timeRange: time,\n    });\n  }\n\n  onSearch = () => {\n    const { actions } = this.props;\n    const { timeRange, tabActive } = this.state;\n    actions.fetchAlarmHistory({ timeRange, tabActive });\n  }\n\n  \n\n  renderTypeTab() {\n    const { tabActive } = this.state;\n    return (\n      <div className=\"type-tab\" onClick={this.switchTab}>\n        <span\n          className={classnames({ active: tabActive === 'face' })}\n          data-type=\"face\"\n        >人脸告警</span>\n        <span\n          className={classnames({ active: tabActive === 'car' })}\n          data-type=\"car\"\n        >车辆告警</span>\n      </div>\n    );\n  }\n\n  renderAlarmList() {\n    const { alarmHistoryList } = this.props;\n    const { tabActive, selectedId} = this.state;\n    const isFace = tabActive === 'face';\n    // const test = \"http://img4.bdimg.com/it/u=3565682627,2876030475&fm=26&gp=0.jpg\"\n    return (\n      <ul className=\"alarm-list corner-border\">\n        {\n          alarmHistoryList.map((item) => {\n            return (\n              <li key={item.id} onClick={() => this.onSelectItem(item)} className={`${item.id == selectedId ? 'isSelected alarm-item' : 'alarm-item'}`}>\n                <ImageLazyLoad imgsrc={isFace ? item.facePicUrl : item.picVehicle} />\n              {/* <img src={isFace ? item.facePicUrl : item.picVehicle } alt=\"\"/> */}\n              <div className=\"alarm-desc\">\n                <span className=\"name\">\n                  {isFace ? item.humanName : item.plateInfo}\n                </span>\n                <span className=\"time\">\n                  {/* 告警时间： */}\n                  {isFace ? item.alarmTime : item.passTimeStr }\n                </span>\n              </div>\n            </li>\n            )\n          })\n        }\n      </ul>\n    );\n  }\n\n  render() {\n    const { alarmHistoryVisible, movePath } = this.props;\n    if(movePath) return null;\n    if (!alarmHistoryVisible) {\n      return null;\n    }\n    return (\n      <div className=\"network-alarm-history-wrapper\" ref={this.alarm}>\n        <Title name=\"联网告警历史\" onClose={this.handleClose} />\n        {this.renderTypeTab()}\n        {/* <hr /> */}\n        <TimeRangeSearch onSearch={this.onSearch} history onTimeChange={this.onTimeChange} />\n        {this.renderAlarmList()}\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(NetworkAlarmHistory);\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { toggleAlarmHistoryVisible } from '../../actions/alarmHistory';\nimport { toggleForceHistoryVisible } from '../../actions/forceHistory';\nimport { setIshowRadioMarkers, setIshowCarMarkers, setIshowHeatLayers, setIshowMonitorMarkers } from '../../actions/cpmStatus';\n\nimport './index.styl';\nimport { message } from 'antd';\n\nconst mapStateToProps = (state) => ({\n  alarmHistoryVisible: state.alarmHistory.visible,\n  forceHistoryVisible: state.forceHistory.visible,\n  iShowRadioMarkers: state.map.iShowRadioMarkers,\n  iShowCarMarkers: state.map.iShowCarMarkers,\n  iShowHeatLayers: state.map.iShowHeatLayers,\n  iShowMonitorMarkers: state.map.iShowMonitorMarkers\n});\nconst mapDispatchProps = (dispatch) => ({\n  actions: bindActionCreators({\n    toggleAlarmHistoryVisible,\n    toggleForceHistoryVisible,\n    setIshowRadioMarkers,\n    setIshowCarMarkers,\n    setIshowHeatLayers,\n    setIshowMonitorMarkers\n  }, dispatch),\n});\n\nclass HistorySwitcher extends Component {\n  handleForceClick = () => {\n    const { actions } = this.props;\n    actions.toggleForceHistoryVisible();\n    actions.toggleAlarmHistoryVisible(false);\n  }\n\n  handleAlarmClick = () => {\n    const { actions } = this.props;\n    actions.toggleForceHistoryVisible(false);\n    actions.toggleAlarmHistoryVisible();\n  }\n\n  handleRadioClick = () => {\n    this.props.actions.setIshowRadioMarkers()\n  }\n\n  handleRealCarClick = () => {\n    this.props.actions.setIshowCarMarkers()\n  }\n\n  handleMonitorClick = () => {\n    this.props.actions.setIshowMonitorMarkers()\n  }\n\n  handleHeatClick = () => {\n    return message.warning(\"建设中...\", 0);\n    this.props.actions.setIshowHeatLayers() \n  }\n  render() {\n    const { forceHistoryVisible, alarmHistoryVisible, iShowRadioMarkers, iShowCarMarkers, iShowHeatLayers, iShowMonitorMarkers } = this.props;\n    return (\n      <div className=\"history-switcher-wrapper\">\n        <svg width=\"245px\" height=\"55px\" onClick={this.handleMonitorClick} className={classnames('btn', { active: iShowMonitorMarkers })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(-5, -159)\" fillOpacity=\"1\" d=\"M249.769001,160 L60.3889837,160 L2.57080187,213 L215.720517,213 L249.769001,160 Z\"></path>\n          <text transform=\"translate(75, 38)\">监控探头</text>\n        </svg>\n        \n        <svg width=\"245px\" height=\"55px\" onClick={this.handleRealCarClick} className={classnames('btn', { active: iShowCarMarkers })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(-5, -159)\" fillOpacity=\"1\" d=\"M249.769001,160 L60.3889837,160 L2.57080187,213 L215.720517,213 L249.769001,160 Z\"></path>\n          <text transform=\"translate(75, 38)\">实时车辆</text>\n        </svg>\n        <svg width=\"252px\" height=\"55px\" onClick={this.handleForceClick} className={classnames('btn', { active: forceHistoryVisible })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(0, -159)\" fillOpacity=\"1\" d=\"M249.769001,160 L60.3889837,160 L2.57080187,213 L215.720517,213 L249.769001,160 Z\"></path>\n          <text transform=\"translate(80, 38)\">联网警力</text>\n        </svg>\n        <svg style={{ margin: '0 -15px' }} width=\"140px\" height=\"109px\">\n          <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\">\n            <path d=\"M70,1.85059284 L1.83065596,108 L138.169344,108 L70,1.85059284 Z\" stroke=\"#68E0FB\" strokeWidth=\"2\" fillOpacity=\"1\" fill=\"#68E0FB\"></path>\n            <path d=\"M70,18.8580835 L18.8250413,99 L121.174959,99 L70,18.8580835 Z\" stroke=\"#020607\" strokeWidth=\"2\"></path>\n            <path d=\"M70.6435398,91 C68.4344008,91 66.6435398,89.209139 66.6435398,87 C66.6435398,84.790861 68.4344008,83 70.6435398,83 C72.8526788,83 74.6435398,84.790861 74.6435398,87 C74.6435398,89.209139 72.8526788,91 70.6435398,91 Z M70.6435398,43 C73.2079792,43 75.2868681,45.0788889 75.2868681,47.6433283 C75.2868681,47.7577824 75.2826363,47.8721974 75.2741814,47.9863388 L73.1492404,76.6730419 C73.0520515,77.9850917 71.9591843,79 70.6435398,79 C69.3278954,79 68.2350281,77.9850917 68.1378392,76.6730419 L66.0128982,47.9863388 C65.8234588,45.428906 67.7430966,43.2021262 70.3005293,43.0126867 C70.4146707,43.0042318 70.5290857,43 70.6435398,43 Z\" fill=\"#020607\"></path>\n          </g>\n        </svg>\n        <svg width=\"245px\" height=\"55px\" onClick={this.handleAlarmClick} className={classnames('btn', { active: alarmHistoryVisible })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(-372, -54)\" fillOpacity=\"1\" d=\"M374.230999,55 L408.279483,108 L614.429198,108 L556.611016,55 L374.230999,55 Z\"></path>\n          <text transform=\"translate(55, 38)\">联网告警</text>\n        </svg>\n        <svg width=\"245px\" height=\"55px\"  onClick={this.handleRadioClick} className={classnames('btn', { active: iShowRadioMarkers })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(-372, -54)\" fillOpacity=\"1\" d=\"M374.230999,55 L408.279483,108 L614.429198,108 L556.611016,55 L374.230999,55 Z\"></path>\n          <text transform=\"translate(55, 38)\">实时电台</text>\n        </svg>\n        {/* <svg width=\"245px\" height=\"55px\" onClick={this.handleMonitorClick} className={classnames('btn', { active: alarmHistoryVisible })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(-372, -54)\" fillOpacity=\"1\" d=\"M374.230999,55 L408.279483,108 L614.429198,108 L556.611016,55 L374.230999,55 Z\"></path>\n          <text transform=\"translate(55, 38)\">监控点位</text>\n        </svg> */}\n        <svg width=\"245px\" height=\"55px\" onClick={this.handleHeatClick} className={classnames('btn', { active: false || -iShowHeatLayers })}>\n          <path fill=\"#68E0FB\" stroke=\"#68E0FB\" strokeWidth=\"2\" transform=\"translate(-372, -54)\" fillOpacity=\"1\" d=\"M374.230999,55 L408.279483,108 L614.429198,108 L556.611016,55 L374.230999,55 Z\"></path>\n          <text transform=\"translate(55, 38)\">热力图</text>\n        </svg>\n      </div>\n    );\n  }\n}\n\n//fill 20AAFF\n// fillOpacity 0.5\n\nexport default connect(mapStateToProps, mapDispatchProps)(HistorySwitcher);\n","import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport FontIcon from '../../components/FontIcon';\nimport TimeRangeSearch from '../../components/TimeRangeSearch';\n// import demoImg from './demo.png';\nimport './index.styl';\nimport { getCarCaptureById, getFaceCaptureById } from '../../request/api';\nimport { message } from 'antd';\nimport moment from 'moment';\n\nclass ForceSnapshot extends Component {\n  state = {\n    selected: 'people',\n    list: [\n      this.props.defaultValue,\n    ],\n    carCaptureList: [],\n    faceCaptureList: [],\n    time: ''\n  };\n\n  componentDidMount() {\n    this.getFaceCaptureInfo()\n  }\n  async getFaceCaptureInfo(config) {\n    try {\n      const params = config ? config : {\n        vehicleIdentification: this.props.defaultValue.name,\n        endtime: this.props.defaultValue.createTime,\n        biggintime: moment( this.props.defaultValue.createTime).format('YYYY-MM-DD 00:00:00')\n      }\n      const { data } = await getFaceCaptureById(params);\n      this.setState({\n        carCaptureList: data\n      })\n    } catch (error) {\n      console.error(error);\n      // message.error('')\n    }\n  }\n  async getCarCaptureById(config) {\n    try {\n      const params = config ? config : {\n        vehicleIdentification: this.props.defaultValue.name,\n        endtime: this.props.defaultValue.createTime,\n        biggintime: moment(this.props.defaultValue.createTime).format('YYYY-MM-DD 00:00:00'),\n        limit: 20\n      }\n      const { data } = await getCarCaptureById(params);\n      // const res = JSON.parse(JSON.stringify(data.splice(0,10)))\n      this.setState({\n        carCaptureList: data\n      })\n    } catch (error) {\n      \n    }\n  }\n\n  changeSelected = (ev) => {\n    const { type } = ev.target.dataset;\n    if (type) {\n      this.setState({ selected: type }, () => {\n        type === 'people' ? this.getFaceCaptureInfo() : this.getCarCaptureById()\n      });\n    }\n  }\n\n  async onSearch (ev) {\n    try {\n      const { time, selected } = this.state;\n      console.log(\"onSearch\",time)\n      const config = {\n        vehicleIdentification: this.props.defaultValue.name,\n        biggintime: moment(time).format('YYYY-MM-DD 00:00:00'),\n        endtime: time,\n        limit: 20\n      }\n      selected === 'people' ?  this.getFaceCaptureInfo(config) : this.getCarCaptureById(config)\n    } catch (error) {\n      message.error('查询失败', error)\n    }\n  }\n\n  onTimeChange(time) {\n    console.log(time)\n    this.setState({\n      time\n    })\n  }\n\n  renderTab() {\n    const { selected } = this.state;\n    return (\n      <div className=\"snapshot-tab\">\n        <svg className=\"button-bg\" onClick={this.changeSelected}>\n          <path\n            data-type=\"people\"\n            className={classnames({ active: selected === 'people' })}\n            transform=\"translate(-455, -155)\"\n            d=\"M455,155L455,192L595,193L575,156L455,155Z\"\n          />\n          <path\n            data-type=\"car\"\n            className={classnames({ active: selected === 'car' })}\n            transform=\"translate(-454, -155)\"\n            d=\"M588,156L607,192L746,192L727,156L588,156Z\"\n          />\n          <text transform=\"translate(14, 27)\">人脸图像</text>\n          <text transform=\"translate(169, 27)\">车辆图像</text>\n        </svg>\n        <button className=\"button-close\" onClick={this.props.onClose}>\n          <FontIcon type=\"close\" className=\"close-btn\" />\n        </button>\n      </div>\n    );\n  }\n\n  renderList() {\n    const { list } = this.state;\n    return (\n      <div className=\"snapshot-list-wrapper corner-border-highlight-bg\">\n        {\n          list.map((item, index) => (\n            <div className=\"snapshot-item\" key={item.name + index}>\n              <div className=\"header\">{item.name}</div>\n              <div className=\"img-list\">\n                {/* {item.imgs.map((src, i) => <img key={i} src={demoImg} alt=\"\" />)} */}\n              </div>\n              {/* <div className=\"desc\">\n                <span>所属派出所：{item.belongTo}</span>\n                <span>设备号：{item.deviceCode}</span>\n                <span>经 度：{item.lng}</span>\n                <span>摄像头位置：{item.cameraPosition}</span>\n                <span>纬 度：{item.lat}</span>\n                <span>创建日期：{item.time}</span>\n              </div> */}\n            </div>\n          ))\n        }     \n        {this.rendercarCaptureList()}\n      </div>\n    )\n  }\n\n  rendercarCaptureList() {\n    const { carCaptureList, selected } = this.state\n    return carCaptureList.length > 0 ? (\n      <ul>\n        {\n          carCaptureList.map(c => {\n            return <li key={c.id}>\n              <div className=\"img\"><img src={selected === 'people' ? c.baseImageSrc : c.carNumberSrc} alt=\"\" /></div>\n              <div>\n                <span>所属派出所：{c.sspcs}</span>\n                <span>设备号：{c.indexCode}</span>\n                <span>经 度：{c.longitude}</span>\n                <span>摄像头位置：{c.cameraName}</span>\n                <span>纬 度：{c.latitude}</span>\n                <span>拍摄时间：{c.createTime}</span>\n              </div>\n            </li>\n          })\n        }\n      </ul>\n    ) : <div className=\"search-by-time\">暂无当日抓拍信息, 输入日期以搜索</div>\n  }\n\n  render() {\n    return (\n      <div className=\"force-snapshot-wrapper\">\n        {this.renderTab()}\n        <div className=\"search-wrapper\">\n          <TimeRangeSearch onSearch={this.onSearch.bind(this)} history onTimeChange={this.onTimeChange.bind(this)} />\n        </div>\n        {this.renderList()}\n      </div>\n    )\n  }\n}\n\nexport default ForceSnapshot;\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { DatePicker } from 'antd';\nimport ForceSnapshot from '../ForceSnapshot';\nimport { fetchForcePath, selectForceHistoryItem } from '../../actions/forceHistory';\nimport { setMapPath, selectRealTimeMarker } from '../../actions/map';\nimport { setTransFormToLeft } from '../../actions/cpmStatus';\nimport demoImg from './demo.png';\nimport './index.styl';\nimport { monitorPlay } from '../../request/api';\nimport moment from 'moment';\n\n// const mapStateToProps = (state) => ({\n//   detailId: state.forceHistory.detailId,\n// });\n\nconst Left0 = 'tranformToLeft0';\nconst Left530 = 'tranformToLeft530';\nconst classes = 'force-detail-wrapper corner-border-highlight-bg ';\n\nconst mapStateToProps = (state) => {\n  \n  return {\n    tranformToLeft: state.cmpStatus.tranformToLeft\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators({\n    fetchForcePath: fetchForcePath.startAction,\n    selectRealTimeMarker,\n    selectForceHistoryItem,\n    setMapPath,\n    setTransFormToLeft\n  }, dispatch),\n});\n\nclass ForceDetail extends Component {\n  pickerStyle = {\n    width: '100%',\n    background: 'rgba(71,156,223,0.30)',\n  };\n\n  state = {\n    fromTime: null,\n    toTime: null,\n    showType: false\n  };\n\n  changeShowType(showType) { // snapshot | path | video | false\n    this.setState({ showType });\n    // if (showType === 'path') {\n    //   this.onSearchPath();\n    // }\n    if (showType === 'video') {\n      this.playVideo();\n    }\n  }\n\n  componentWillUnmount() {\n    this.onClose();\n  }\n\n  onClose = () => {\n    const { actions } = this.props;\n    actions.selectRealTimeMarker(null);\n    actions.selectForceHistoryItem(null);\n    actions.setMapPath(null);\n    actions.setTransFormToLeft('')\n  }\n\n  playVideo = () => {\n    monitorPlay(this.props.detail.indexCode)\n  }\n\n  onTimeChange(type, undef, date) {\n    this.setState({ [type]: date });\n  }\n\n  async onSearchPath(moveFlag) {\n    const { actions } = this.props;\n    const { fromTime , toTime } = this.state;\n    const config = {\n      name: this.props.detail.name,\n      moveFlag\n    }\n    if(toTime) {\n      config.biggintime = moment(toTime).format('YYYY-MM-DD 00:00:00');\n      config.endtime = toTime\n    } else {\n      config.endtime= moment().format('YYYY-MM-DD HH:mm:ss')\n      config.biggintime = moment(config.endtime).format('YYYY-MM-DD 00:00:00')\n    }\n    actions.fetchForcePath(config)\n  }\n\n  onPlay = () => {\n    // const { actions }\n  }\n\n  renderAction() {\n    if (this.state.showType === 'path') {\n      return this.renderTimeSearch();\n    }\n    return (\n      <div className=\"action-detail-wrapper\">\n        <button onClick={this.changeShowType.bind(this, 'snapshot')}>联网抓拍</button>\n        <button onClick={this.changeShowType.bind(this, 'path')}>车辆轨迹</button>\n        <button onClick={this.changeShowType.bind(this, 'video')}>监控点播</button>\n        <button onClick={this.onClose}>关&nbsp;&nbsp;&nbsp;&nbsp;闭</button>\n      </div>\n    );\n  }\n\n  renderTimeSearch() {\n    return (\n      <div className=\"timer-range-search\">\n        <div className=\"split-line\" />\n        {/* <DatePicker\n          className=\"data-picker\"\n          showTime\n          placeholder=\"输入时间\"\n          format=\"YYYY-MM-DD HH:mm:ss\"\n          onChange={this.onTimeChange.bind(this, 'fromTime')}\n          style={this.pickerStyle}\n          size=\"large\"\n        /> */}\n        <DatePicker\n          className=\"data-picker\"\n          showTime\n          placeholder=\"选择时间\"\n          format=\"YYYY-MM-DD HH:mm:ss\"\n          onChange={this.onTimeChange.bind(this, 'toTime')}\n          style={this.pickerStyle}\n          size=\"large\"\n        />\n        <div className=\"action-detail-wrapper\">\n          <button onClick={this.onSearchPath.bind(this, false)}>查&nbsp;&nbsp;&nbsp;&nbsp;询</button>\n          <button onClick={this.onSearchPath.bind(this, true)}>播&nbsp;&nbsp;&nbsp;&nbsp;放</button>\n          <button onClick={this.onClose}>完&nbsp;&nbsp;&nbsp;&nbsp;成</button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { detail, tranformToLeft } = this.props;\n    if (!detail) {\n      return null;\n    }\n    if (this.state.showType === 'snapshot') {\n      return <ForceSnapshot defaultValue={detail} onClose={this.onClose} />;\n    }\n    return (\n      <div className={tranformToLeft + ' ' + classes}>\n        <img src={detail.pic} alt=\"背景图片\" />\n        <div className=\"h6-name\">{detail.name}</div>\n        <div className=\"info\">\n          所属派出所：{detail.sspcs}\n        </div>\n        <div className=\"info\">\n          设备号：{detail.indexCode}\n        </div>\n        <div className=\"info\">\n          经 度：{detail.lng}\n        </div>\n        <div className=\"info\">\n          纬 度：{detail.lat}\n        </div>\n        <div className=\"info\">\n          日 期：{detail.createTime}\n        </div>\n        <div className=\"info\">\n          WIFI嗅探数：{detail.wificount}\n        </div>\n        {this.renderAction()}\n        {/* {this.renderSnapshot()} */}\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ForceDetail);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ForceDetail from '../ForceDetail';\n\nconst mapStateToProps = (state) => ({\n  markerId: state.map.selectedMarkerID,\n  markers: state.map.carMarkers,\n});\n\nclass ForceDetailControl extends Component {\n  render() {\n    const { markerId, markers } = this.props;\n    const selectedItem = typeof markerId === 'object' ? markerId : markers.find((marker) => marker.id === markerId);\n    // const selectedItem = markerId\n    // console.log(selectMarker);\n    if (selectedItem) {\n      return <ForceDetail key={selectedItem.id} detail={selectedItem} />\n    }\n    return null;\n  }\n}\n\nexport default connect(mapStateToProps)(ForceDetailControl);\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { DatePicker } from 'antd';\nimport {\n  fetchForcePath,\n} from '../../actions/forceHistory';\nimport {\n  selectAlarmItem,\n} from '../../actions/alarmHistory';\nimport {\n  setMapPath,\n  setAlarmHistoryDetail,\n} from '../../actions/map';\nimport { setTransFormToLeft, setIshowHDPICModal } from '../../actions/cpmStatus';\n// import { getAlarmDetailById } from '../../request/api';\nimport './index.styl';\n\n// const mapStateToProps = (state) => ({\n//   detailId: state.forceHistory.detailId,\n// });\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators({\n    fetchForcePath: fetchForcePath.startAction,\n    setMapPath,\n    setAlarmHistoryDetail,\n    selectAlarmItem,\n    setTransFormToLeft,\n    setIshowHDPICModal\n  }, dispatch),\n});\n\nconst mapStateToProps = (state) => {\n  return {\n      tranformToLeft: state.cmpStatus.tranformToLeft\n  }\n}\n\nclass AlarmDetail extends Component {\n  pickerStyle = {\n    width: '100%',\n    background: '#A5303055',\n  };\n\n  state = {\n    showTimeSearch: false,\n    fromTime: null,\n    toTime: null,\n  };\n\n  showPath = () => {\n    this.setState({\n      showTimeSearch: true,\n    });\n  }\n\n  close = () => {\n    const { actions } = this.props;\n    actions.setMapPath(null);\n    actions.selectAlarmItem(null);\n    actions.setAlarmHistoryDetail(null);\n    actions.setTransFormToLeft('')\n  }\n\n  onSearchPath = () => {\n    const { detail, actions } = this.props;\n    const { fromTime, toTime } = this.state;\n    const config = {\n      humanId : detail.humanId,\n      moveFlag: false,\n      biggintime: fromTime,\n      endtime: toTime\n    }\n    // if(toTime) {\n    //   config.endtime = toTime\n    //   config.biggintime = moment(toTime).format('YYYY-MM-DD HH:mm:ss')\n    // } else {\n    //   config.endtime = moment().format('YYYY-MM-DD HH:mm:ss')\n    //   config.biggintime = moment(config.endtime).format('YYYY-MM-DD HH:mm:ss')\n    // }\n    actions.fetchForcePath(config);\n  }\n\n  onTimeChange(type, undef, date) {\n    this.setState({ [type]: date });\n  }\n  showHDPICModal(item) {\n    let type, name, time, imgsrc, address, hdpic;\n    if (item.alarmId) {\n      type = '人脸告警';\n      address = item.cameraName\n      name = item.humanName;\n      time = item.alarmTime;\n      imgsrc = item.facePicUrl\n      hdpic = item.bkgPicUrl\n    } else {\n      type = '车辆告警';\n      name = item.plateInfo;\n      // time = new Date(+item.passtime).toLocaleString('zh', { hour12: false });\n      time = item.passTimeStr\n      imgsrc = item.picPlate\n      address = item.crossingName\n      hdpic = item.picVehicle\n    }\n    this.props.actions.setIshowHDPICModal({\n      type, name, time, imgsrc, address, hdpic,\n      ishow: true,\n    })\n  }\n  renderAction() {\n    const { detail } = this.props;\n    const { showTimeSearch } = this.state;\n    if (showTimeSearch) {\n      return this.renderTimeSearch();\n    }\n    return (\n      <div className=\"action-detail-wrapper\">\n        {\n          detail.type === 'face' && <button onClick={this.showPath}>人脸轨迹</button>\n        }\n        <button onClick={this.showHDPICModal.bind(this, detail)}>高清大图</button>\n        <button onClick={this.close}>关闭</button>\n      </div>\n    );\n  }\n\n  renderTimeSearch() {\n    return (\n      <div className=\"timer-range-search\">\n        <DatePicker\n          className=\"data-picker\"\n          showTime\n          placeholder=\"开始时间\"\n          format=\"YYYY-MM-DD HH:mm:ss\"\n          onChange={this.onTimeChange.bind(this, 'fromTime')}\n          style={this.pickerStyle}\n          size=\"large\"\n        />\n        <DatePicker\n          className=\"data-picker\"\n          showTime\n          placeholder='结束时间'\n          format=\"YYYY-MM-DD HH:mm:ss\"\n          onChange={this.onTimeChange.bind(this, 'toTime')}\n          style={this.pickerStyle}\n          size=\"large\"\n        />\n        <div className=\"action-detail-wrapper\">\n          <button onClick={this.onSearchPath}>查&nbsp;&nbsp;&nbsp;&nbsp;询</button>\n          <button onClick={this.close}>完&nbsp;&nbsp;&nbsp;&nbsp;成</button>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { detail, tranformToLeft } = this.props;\n    if (!detail) {\n      return null;\n    }\n    return (\n      <div className={tranformToLeft + \" alarm-detail-wrapper corner-border-warning\"}>\n        <img src={detail.bkgPicUrl || detail.picVehicle} alt=\"背景图片\" />\n        <div className=\"h6-name\">{detail.humanName || detail.plateInfo}</div>\n        {\n          detail.type === 'face' && <div className=\"info\">\n            身份证：{detail.humans && detail.humans[0] && detail.humans[0].credentialsNum}\n          </div>\n        }\n        <div className=\"info\">\n          经 度：{detail.longitude.toString().substr(0, 10)}\n        </div>\n        <div className=\"info\">\n          纬 度：{detail.latitude.toString().substr(0, 10)}\n        </div>\n        <div className=\"info\">\n          告警日期：{detail.alarmTime || detail.passTimeStr}\n        </div>\n        <div className=\"info\">\n          告警类别：<span className=\"warning\">{detail.type === 'face' ? '人脸告警' : '车辆告警'}</span>\n        </div>\n        <div className=\"info\">\n          设备号：{detail.indexCode}\n        </div>\n        <div className=\"info\">\n          所在区域：{detail.cameraName}\n        </div>\n        {this.renderAction()}\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AlarmDetail);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport AlarmDetail from '../AlarmDetail';\n\nconst mapStateToProps = (state) => ({\n  alarmDetail: state.map.showAlarmHistoryDetail,\n  alarmMarker: state.map.alarmMarker,\n});\n\nclass AlarmDetailControl extends Component {\n  render() {\n    const { alarmDetail, alarmMarker } = this.props;\n    // console.log(alarmDetail === alarmMarker);\n    if (alarmDetail && alarmDetail === alarmMarker) {\n      return <AlarmDetail detail={alarmDetail} />\n    }\n    return null;\n  }\n}\n\nexport default connect(mapStateToProps)(AlarmDetailControl);\n","export default class Rotate {\n  constructor(container) {\n    this.container = container;\n    this.rotateZ = 0;\n    this.autoRotate = true;\n    this.dragging = false;\n    this.rotate = this.rotate.bind(this);\n    this.initEvent();\n    this.startX = 0;\n    this.startY = 0;\n  }\n\n  initEvent() {\n    this.container.addEventListener('mouseover', () => {\n      this.autoRotate = false;\n    });\n    this.container.addEventListener('mouseout', () => {\n      this.autoRotate = true;\n    });\n\n    this.container.addEventListener('mousedown', (ev) => {\n      this.dragging = true;\n      this.startX = ev.pageX;\n      this.startY = ev.pageY;\n      this.startRotate = this.rotateZ;\n    });\n    window.addEventListener('mousemove', (ev) => {\n      if (this.dragging) {\n        this.rotateZ = this.startRotate + (this.startX - ev.pageX) / 3;\n      }\n    });\n    window.addEventListener('mouseup', (ev) => {\n      this.dragging = false;\n    });\n  }\n\n  rotate() {\n    if (this.autoRotate && !this.dragging) {\n      this.rotateZ += 0.5;\n    }\n    this.container.style.transform = `rotateX(79deg) rotateZ(${this.rotateZ}deg)`;\n    this.raf = requestAnimationFrame(this.rotate);\n  }\n\n  destroy() {\n    this.raf && cancelAnimationFrame(this.raf);\n  }\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport Rotate from './rotate';\nimport './index.styl';\nimport { connect } from 'react-redux';\nimport { toggleAlarmHistoryVisible } from '../../actions/alarmHistory';\nimport { toggleForceHistoryVisible } from '../../actions/forceHistory';\nimport { setIshowRadioMarkers, setIshowCarMarkers, setIshowHeatLayers, setIshowMonitorMarkers } from '../../actions/cpmStatus';\nimport { bindActionCreators } from 'redux';\nimport { message } from 'antd';\n\nconst mapStateToProps = (state) => ({\n  alarmHistoryVisible: state.alarmHistory.visible,\n  forceHistoryVisible: state.forceHistory.visible,\n  iShowRadioMarkers: state.map.iShowRadioMarkers,\n  iShowCarMarkers: state.map.iShowCarMarkers,\n  iShowHeatLayers: state.map.iShowHeatLayers,\n  iShowMonitorMarkers: state.map.iShowMonitorMarkers\n});\nconst mapDispatchProps = (dispatch) => ({\n  actions: bindActionCreators({\n    toggleAlarmHistoryVisible,\n    toggleForceHistoryVisible,\n    setIshowRadioMarkers,\n    setIshowCarMarkers,\n    setIshowHeatLayers,\n    setIshowMonitorMarkers\n  }, dispatch),\n});\n\n\nclass Switcher extends React.Component {\n  rotateRef = React.createRef();\n\n  state = {\n    buttonList: [\n      '联网警力',\n      '联网告警',\n      '实时车辆',\n      '实时电台',\n      '热力图',\n      '监控探头'\n    ],\n    clickedIndex: 0,\n  };\n\n  rotateByIndex(i) {\n    const radio = 2 * i / this.state.buttonList.length * Math.PI;\n    const r = 228;\n    const x = r * Math.cos(radio);\n    const y = r * Math.sin(radio);\n    const rotate = 90 - 360 * i / this.state.buttonList.length;\n    return ({\n      transform: `translate(${x}px, ${y}px) rotateX(-90deg) translateY(-39%) rotateY(${rotate}deg)`,\n    });\n  }\n\n  onClick(i) {\n    switch (i) {\n      case 0:\n        this.handleForceClick()\n        break;\n      case 1:\n        this.handleAlarmClick()\n        break;\n      case 2:\n        this.handleRealCarClick()\n        break;\n      case 3:\n        this.handleRadioClick()\n        break;\n      case 4:\n        this.handleHeatClick()\n        break;\n      case 5:\n        this.handleMonitorClick()\n        break;\n    \n      default:\n        break;\n    }\n    this.setState({\n      clickedIndex: i,\n    });\n  }\n\n  componentDidMount() {\n    this.r = new Rotate(this.rotateRef.current);\n    this.r.rotate();\n  }\n\n  componentWillUnmount() {\n    this.r.destroy();\n  }\n\n  handleForceClick = () => {\n    const { actions } = this.props;\n    actions.toggleForceHistoryVisible();\n    actions.toggleAlarmHistoryVisible(false);\n  }\n\n  handleAlarmClick = () => {\n    const { actions } = this.props;\n    actions.toggleForceHistoryVisible(false);\n    actions.toggleAlarmHistoryVisible();\n  }\n\n  handleRadioClick = () => {\n    this.props.actions.setIshowRadioMarkers()\n  }\n\n  handleRealCarClick = () => {\n    this.props.actions.setIshowCarMarkers()\n  }\n\n  handleMonitorClick = () => {\n    this.props.actions.setIshowMonitorMarkers()\n  }\n\n  handleHeatClick = () => {\n    // return message.warning(\"建设中...\");\n    this.props.actions.setIshowHeatLayers() \n  }\n\n  isActive(i) {\n    const { forceHistoryVisible, alarmHistoryVisible, iShowCarMarkers, iShowRadioMarkers,iShowHeatLayers, iShowMonitorMarkers } = this.props;\n    return [forceHistoryVisible, alarmHistoryVisible, iShowCarMarkers, iShowRadioMarkers,iShowHeatLayers, iShowMonitorMarkers]\n  }\n\n  render() {\n    const { buttonList, clickedIndex } = this.state;\n    return (\n      <div className=\"switcher-wrapper\">\n        <div className=\"btn-transform\">\n          <div className=\"btn-rotate\" ref={this.rotateRef}>\n            {\n              buttonList.map((name, i) => (\n                <div className=\"btn-center\" key={name}>\n                  <div\n                    className={classnames(\"btn\", {active: this.isActive()[i]})}\n                    style={this.rotateByIndex(i)}\n                    onClick={this.onClick.bind(this, i)}\n                  >{name}</div>\n                </div>\n              ))\n            }\n          </div>\n          {/* <div className=\"current\">\n            {buttonList[clickedIndex]}\n          </div> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchProps)(Switcher);\n","export const getOption = (data) => {\n  console.log(\"data\", data)\n  const filterData = (key) => {\n    return data.list.map(d => {\n      return d[key]\n    })\n  }\n  var option = {\n    backgroundColor: \"transparent\",\n    \"title\": {\n      // \"text\": \"杨浦分局警情统计\",\n      // \"subtext\": \"BY Wang Dingding\",\n      x: \"4%\",\n      textStyle: {\n        color: '#fff',\n        fontSize: '22'\n      },\n      subtextStyle: {\n        color: '#90979c',\n        fontSize: '16',\n\n      },\n    },\n    \"tooltip\": {\n      \"trigger\": \"axis\",\n      \"axisPointer\": {\n        \"type\": \"shadow\",\n        textStyle: {\n          color: \"#fff\"\n        }\n\n      },\n    },\n    \"grid\": {\n      \"borderWidth\": 0,\n      \"top\": 110,\n      \"bottom\": 95,\n      textStyle: {\n        color: \"#fff\"\n      }\n    },\n    \"legend\": {\n      x: '4%',\n      top: '11%',\n      textStyle: {\n        color: '#90979c',\n      },\n      \"data\": ['出警', '警情']\n    },\n\n\n    \"calculable\": true,\n    \"xAxis\": [{\n      \"type\": \"category\",\n      \"axisLine\": {\n        lineStyle: {\n          color: '#90979c'\n        }\n      },\n      \"splitLine\": {\n        \"show\": false\n      },\n      \"axisTick\": {\n        \"show\": false\n      },\n      \"splitArea\": {\n        \"show\": false\n      },\n      \"axisLabel\": {\n        \"interval\": 0,\n\n      },\n      \"data\": filterData(\"name\"),\n    }],\n    \"yAxis\": [{\n      \"type\": \"value\",\n      \"splitLine\": {\n        \"show\": false\n      },\n      \"axisLine\": {\n        lineStyle: {\n          color: '#90979c'\n        }\n      },\n      \"axisTick\": {\n        \"show\": false\n      },\n      \"axisLabel\": {\n        \"interval\": 0,\n\n      },\n      \"splitArea\": {\n        \"show\": false\n      },\n\n    }],\n    \"dataZoom\": [{\n      \"show\": true,\n      \"height\": 30,\n      \"xAxisIndex\": [\n        0\n      ],\n      bottom: 30,\n      \"start\": 10,\n      \"end\": 80,\n      handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',\n      handleSize: '110%',\n      handleStyle: {\n        color: \"#d3dee5\",\n      },\n      textStyle: {\n        color: \"#fff\"\n      },\n      borderColor: \"#90979c\"\n    }, {\n      \"type\": \"inside\",\n      \"show\": true,\n      \"height\": 15,\n      \"start\": 1,\n      \"end\": 35\n    }],\n    \"series\": [\n    {\n      \"name\": \"出警\",\n      \"type\": \"bar\",\n      \"stack\": \"总量\",\n      \"itemStyle\": {\n        \"normal\": {\n          \"color\": \"rgba(0,191,183,1)\",\n          \"barBorderRadius\": 0,\n          \"label\": {\n            \"show\": true,\n            \"position\": \"top\",\n            formatter: function (p) {\n              return p.value > 0 ? (p.value) : '';\n            }\n          }\n        }\n      },\n      \"data\": filterData(\"dealnum\")\n    },\n    {\n      \"name\": \"警情\",\n      \"type\": \"line\",\n      \"stack\": \"总量\",\n      symbolSize: 10,\n      symbol: 'circle',\n      \"itemStyle\": {\n        \"normal\": {\n          \"color\": \"rgba(252,230,48,1)\",\n          \"barBorderRadius\": 0,\n          \"label\": {\n            \"show\": true,\n            \"position\": \"top\",\n            formatter: function (p) {\n              return p.value > 0 ? (p.value) : '';\n            }\n          }\n        }\n      },\n      \"data\": filterData(\"allnum\")\n    },\n    ]\n  }\n  return option;\n}","import React, { useEffect, useMemo } from 'react';\nimport echarts from 'echarts';\nimport { getOption } from './config';\n\n\n// class BarChart extends React.Component {\n//   barchart = React.createRef();\n\n//   shouldComponentUpdate(a,b) {\n//     console.log(a, b)\n//   }\n\n//   componentDidMount() {\n//     const mychart = echarts.init(this.barchart.current);\n//     mychart.setOption(getOption(this.props.data));\n//   }\n\n//   render() {\n//     return (\n//       <div ref={this.barchart} style={{height: 600}}></div>\n//     )\n//   }\n// }\n\nfunction useBarChartEffect() {\n  const createChart = (ele, data) => {\n    const myChart = echarts.init(ele);\n    myChart.setOption(getOption(data))\n  }\n  return [createChart]\n}\n\nconst BarChart = ({data}) => {\n  const [createChart] = useBarChartEffect();\n  const barchart = React.useRef();\n  \n  useEffect(() => {\n    createChart(barchart.current, data)\n  }, []);\n\n  return (\n    <>\n      <div ref={barchart} style={{height: 600}}></div> \n      </>\n  )\n}\n\n\nexport default BarChart;","import React, { useEffect, useState, useMemo } from 'react';\nimport { Modal } from 'antd';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { setIshowPCSPoliceModal } from '../../actions/cpmStatus';\nimport TodayStatistics from '../TodayStatistics';\nimport { getPoliceStationStatistical } from '../../request/api';\nimport { getuuid } from '@/utils/func';\nimport './index.styl';\nimport BarChart from '../BarChart';\nimport DayOrMonth from '../DayOrMonth';\n\nconst mapStateToProps = (state) => {\n  return {\n    iShowPCSPoliceCallModal: state.cmpStatus.iShowPCSPoliceCallModal\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators({\n      setIshowPCSPoliceModal,\n    }, dispatch)\n  }\n}\n\nfunction usePCSPoliceCallEffect() {\n\n  const [state, setState] = useState({\n    data: {\n      list: []\n    }\n  });\n\n  const initData = async(config = {}) => {\n    try {\n      const { data } = await getPoliceStationStatistical(config);\n      setState({\n        ...state, data\n      })\n    } catch (error) {\n      console.error(error)\n    }\n  }\n  return [state, setState, initData]\n}\n\nconst PCSPoliceCall = ({ iShowPCSPoliceCallModal, actions }) => {\n\n  const [state, setState, initData] = usePCSPoliceCallEffect();\n\n  const [type, setType] = useState(2);\n\n  const changeType = (type) => {\n    setType(type);\n    initData({\n      ...iShowPCSPoliceCallModal,\n      type\n    })\n  }\n\n  useEffect(() => {\n    iShowPCSPoliceCallModal.iShow && initData({\n      ...iShowPCSPoliceCallModal,\n      type\n    })\n  }, [iShowPCSPoliceCallModal])\n\n  const { allnum, dealnum } = state.data;\n\n  return (\n    <Modal\n      visible={iShowPCSPoliceCallModal.iShow}\n      title={`${iShowPCSPoliceCallModal.name}警情统计`}\n      className=\"corner-border resetModalStye pcs-policecall-modal \"\n      onCancel={() => actions.setIshowPCSPoliceModal({iShow: false})}\n      footer={null}\n      width={1000}\n      mask={false}\n      zIndex={0}\n    >\n      <div>\n        <DayOrMonth\n          type={type}\n          changeType={changeType}\n        />\n        {\n          useMemo(() => {\n            return <TodayStatistics\n            key={getuuid()}\n            title=''\n            total={allnum}\n            deal={dealnum}\n          />\n          },[state.data])\n        }\n        \n        {\n          useMemo(() => {\n           return <BarChart\n              key={getuuid()}\n              data={state.data}\n            />\n        }, [state.data])\n        }\n        \n      </div>\n    </Modal>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PCSPoliceCall)","import React from 'react';\nimport Map from './containers/Map';\nimport Header from './components/Header';\nimport RealTimeAlarm from './containers/RealTimeAlarm';\nimport PoliceCall from './containers/PoliceCall';\nimport NetworkForceHistory from './containers/NetworkForceHistory';\nimport NetworkAlarmHistory from './containers/NetworkAlarmHistory';\nimport HistorySwitcher from './containers/HistorySwitcher';\nimport ForceDetailControl from './containers/ForceDetailControl';\nimport AlarmDetailControl from './containers/AlarmDetailControl';\nimport Switcher from './containers/Switcher';\nimport './App.styl';\nimport PCSPoliceCallModal from './components/PCSPoliceCallModal';\n\nfunction App() {\n  return (\n    <div className=\"app-root\">\n      <Map />\n      <div className=\"content\">\n        <Header />\n        <RealTimeAlarm />\n        <PoliceCall />\n        <NetworkForceHistory />\n        <NetworkAlarmHistory />\n        {/* <HistorySwitcher /> */}\n        <ForceDetailControl />\n        <AlarmDetailControl />\n        <Switcher />\n        <PCSPoliceCallModal />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { takeLatest, call, fork, put, all } from 'redux-saga/effects';\nimport { getAlarmHistory } from '../request/api';\nimport {\n  fetchAlarmHistory,\n  setAlarmHistoryList,\n} from '../actions/alarmHistory';\n\n// 获取告警历史数据\nfunction* watchFetchAlarmHistory() {\n  yield takeLatest(fetchAlarmHistory.startAction, function* (action) {\n    const { data } = yield call(getAlarmHistory, action.payload);\n    yield put(setAlarmHistoryList(data));\n  });\n}\n\nexport default all([\n  fork(watchFetchAlarmHistory),\n]);\n","import { takeLatest, call, fork, put, all } from 'redux-saga/effects';\nimport {\n  fetchForceHistory,\n  setForceHistoryList,\n  fetchForcePath,\n} from '../actions/forceHistory';\nimport {\n  setMapPath,\n  setMoveFlag,\n} from '../actions/map';\nimport {\n  getForceHistory,\n  getForcePathById,\n} from '../request/api';\nimport { message } from 'antd';\nimport { setTransFormToLeft } from '../actions/cpmStatus';\n\n// 获取警力历史数据\nfunction* watchFetchForceHistory() {\n  yield takeLatest(fetchForceHistory.startAction, function* (action) {\n    const res = yield call(getForceHistory, action.payload);\n    yield put(setForceHistoryList(res.data));\n  });\n}\n\nfunction* watchFetchForcePath() {\n  yield takeLatest(fetchForcePath.startAction, function* (action) {\n    yield put(setMoveFlag(action.payload.moveFlag));\n    const res = yield call(getForcePathById, action.payload);\n    if (!res || res.length < 2) {\n      return message.warning('暂无当日轨迹信息');\n    }\n    yield put(setTransFormToLeft('tranformToLeft0'))\n    yield put(setMapPath(res));\n  });\n}\n\nexport default all([\n  fork(watchFetchForceHistory),\n  fork(watchFetchForcePath),\n]);\n","import EventEmitter from 'eventemitter3';\n\nclass Socket extends EventEmitter {\n  constructor(url, protocol) {\n    super();\n    this.url = url;\n    this.protocol = protocol;\n    this.initSocket();\n    this.maxRetry = 10;\n    this.retryCount = 0;\n  }\n  initSocket() {\n    this.socket = new WebSocket(this.url, this.protocol);\n    let socket = this.socket;\n    socket.onmessage = (ev) => {\n      try {\n        let data = JSON.parse(ev.data);\n        this.emit('data', data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    socket.onclose = this.retry;\n    socket.onerror = this.retry;\n    socket.onopen = () => {\n      this.retryCount = 0;\n      console.log('connected');\n      if (socket.readyState !== socket.OPEN) {\n        this.retry();\n      }\n    };\n  }\n  retry = () => {\n    this.retryCount < this.maxRetry && this.initSocket();\n    this.retryCount++;\n  }\n  destroy() {\n    this.socket.close();\n  }\n}\n\nexport default Socket;\n","import { takeLatest, take, call, all, fork, put } from 'redux-saga/effects';\nimport {\n  setRealTimeMarkers, fetchMapTrail,setMapTrail, fetchMapPCSArea, setMapPCSArea, fetchRadioTrall, setRadioTrall\n} from '../actions/map';\nimport createSocketChannel from '../request/socket';\nimport { transformLatLng } from '../utils/map';\nimport { getfjinfo, getCarTrall, getRadioTrall } from '../request/api';\n// const prodUrl = 'ws://47.98.168.14:9094/socket/trail';\nconst url = 'ws://15.75.19.155/socket/trail'\nconst prodUrl = 'ws://15.75.19.155:80/socket/trail';\n// const url = 'ws://47.98.168.14:9094/socket/trail';\nconst host = process.env.NODE_ENV === 'development' ? url : prodUrl\n\nconst markerTransformer = transformLatLng({path: ''})\nexport function* watchSocket() {\n  const socketChannel = yield call(createSocketChannel, host);\n  while (true) {\n    const data = yield take(socketChannel);\n    switch (data.type) {\n      case 'mapposition':\n        const res = markerTransformer(data.data)\n        yield put(setRealTimeMarkers(res));\n        break;\n      default:\n        console.log('unknown socket data type');\n    }\n  }\n}\n\nlet isFetchCarTrall = false\n\nexport function* watchFetchTrail() {\n  yield takeLatest(fetchMapTrail.startAction, function* (action) {\n    const {data} = yield call(getCarTrall, action.payload);\n    // console.log(data)\n    // switch (data.type) {\n    //   case 'mapposition':\n      if(data && data.length > 0) {\n        isFetchCarTrall = false\n      }\n      if(data && !isFetchCarTrall) {\n        yield put(setMapTrail(data))\n        isFetchCarTrall = true\n      }\n      //   break;\n      // default:\n      //   console.log('unknown socket data type');\n    // }\n  })\n}\n\nexport function* watchFetchRadio() {\n  yield takeLatest(fetchRadioTrall.startAction, function* (action) {\n    const {data} = yield call(getRadioTrall, action.payload);\n    yield put(setRadioTrall(data))\n  })\n}\n\nexport function* watchPCSArea() {\n  yield takeLatest(fetchMapPCSArea.startAction, function* (action) {\n    const data = yield call(getfjinfo, action.payload)\n    yield put(setMapPCSArea(data))\n  })\n}\n\nexport default all([\n  fork(watchFetchTrail),\n  fork(watchPCSArea),\n  fork(watchFetchRadio),\n]);\n","import { takeLatest, take, call, all, fork, put } from 'redux-saga/effects';\r\nimport { fetchIsAlarmComing, setIsAlarmComing } from '../actions/cpmStatus';\r\nimport { getbj110 } from '../request/api';\r\n\r\n\r\n\r\nfunction* watchIsAlarmComing() {\r\n    yield takeLatest(fetchIsAlarmComing.startAction, function* (action) {\r\n        // console.log(\"执行\")\r\n        // typeof data === boolean\r\n      const { data } = yield call(getbj110, action.payload);\r\n      if(data) {\r\n        yield put(setIsAlarmComing('isAlarmComing'));\r\n      } else {\r\n        yield put(setIsAlarmComing(''));\r\n      }\r\n    });\r\n  }\r\n  \r\n\r\n\r\n\r\nexport default all([\r\n    fork(watchIsAlarmComing)\r\n]);\r\n  ","import { all } from 'redux-saga/effects';\nimport alarmHistory from './alarmHistory';\nimport forceHistory from './forceHistory';\nimport map from './map';\nimport cpmStatus from './cpmStatus';\n\nconst AllForks = [\n  alarmHistory,\n  forceHistory,\n  map,\n  cpmStatus\n];\n\nexport default function* root() {\n  yield all(AllForks);\n}\n","import { handleActions } from 'redux-actions';\nimport {\n  toggleAlarmHistoryVisible,\n  setAlarmHistoryList,\n  selectAlarmItem,\n  setAlarmHistoryListIsSelected\n} from '../actions/alarmHistory';\n\nconst defaultState = {\n  visible: false,\n  list: [],\n  detailId: null,\n};\n\nconst alarmHistory = handleActions(\n  {\n    [toggleAlarmHistoryVisible](state, { payload }) {\n      const visible = typeof payload === 'boolean' ? payload : !state.visible;\n      return { ...state, visible, detailId: null };\n    },\n    [setAlarmHistoryList](state, { payload }) {\n      return Array.isArray(payload) ? { ...state, list: payload } : state;\n    },\n    [selectAlarmItem](state, { payload }) {\n      return { ...state, detailId: payload };\n    },\n    [setAlarmHistoryListIsSelected](state, { payload }) {\n      return { ...state, list: payload}\n    }\n  },\n  defaultState,\n);\n\nexport default alarmHistory;\n","import { handleActions } from 'redux-actions';\nimport {\n  toggleForceHistoryVisible,\n  setForceHistoryList,\n  setForceHistoryListIsSelected\n} from '../actions/forceHistory';\n\nconst defaultState = {\n  visible: false,\n  list: [],\n  // detailId: null,\n};\n\nconst forceHistory = handleActions(\n  {\n    [toggleForceHistoryVisible](state, { payload }) {\n      const visible = typeof payload === 'boolean' ? payload : !state.visible;\n      return { ...state, visible, detailId: null };\n    },\n    [setForceHistoryList](state, { payload }) {\n      return Array.isArray(payload) ? { ...state, list: payload } : state;\n    },\n    [setForceHistoryListIsSelected](state, { payload }) {\n      return { ...state, list: payload }\n    }\n  },\n  defaultState,\n);\n\nexport default forceHistory;\n","import { handleActions } from 'redux-actions';\r\nimport\r\n{\r\n  setTransFormToLeft,\r\n  setIsAlarmComing,\r\n  setIshowPrevButton,\r\n  setIshowHDPICModal,\r\n  setIshowPCSPoliceModal\r\n}\r\n  from '../actions/cpmStatus';\r\n\r\nconst defaultState = {\r\n    tranformToLeft: '', //控制弹出框平移动画\r\n    isAlarmComing: '', //控制110警情闪烁动画\r\n    iShowPrevButton: false, // 是否显示上一级按钮\r\n    isShowHDPICModal: {\r\n      src: \"\",\r\n      ishow: false\r\n  }, // 是否显示高清大图modal\r\n  iShowPCSPoliceCallModal: {\r\n    iSHow: false\r\n  }\r\n  };\r\n\r\nconst cmpStatus = handleActions(\r\n  {\r\n    [setIshowPCSPoliceModal](state, { payload }) {\r\n      return {...state, iShowPCSPoliceCallModal: payload}\r\n    },\r\n    [setTransFormToLeft](state, { payload }) {\r\n      return {...state, tranformToLeft: payload}\r\n    },\r\n    [setIsAlarmComing](state, { payload }) {\r\n      return {...state, isAlarmComing: payload}\r\n    },\r\n    [setIshowPrevButton](state, {payload}) {\r\n      return {...state, iShowPrevButton: payload}\r\n    },\r\n    [setIshowHDPICModal](state, { payload }) {\r\n      return {...state, isShowHDPICModal: payload}\r\n    }\r\n    // [setIshowCarMarkers](state, { payload }) {\r\n    //   return {...state, isAlarmComing: payload}\r\n    // },\r\n    // [setIshowHeatLayers](state, { payload }) {\r\n    //   return {...state, isAlarmComing: payload}\r\n    // },\r\n    // [setIshowRadioMarkers](state, { payload }) {\r\n    //   return {...state, isAlarmComing: payload}\r\n    // },\r\n    // [setIshowMonitorMarkers](state, { payload }) {\r\n    //   return {...state, isAlarmComing: payload}\r\n    // },\r\n    // [setIshowNetworkAlarmHistory](state, { payload }) {\r\n    //   return {...state, isAlarmComing: payload}\r\n    // },\r\n    // [setIshowNetWorkForceHistory](state, { payload }) {\r\n    //   return {...state, isAlarmComing: payload}\r\n    // },\r\n},\r\ndefaultState,\r\n);\r\n\r\nexport default cmpStatus;\r\n  ","import { handleActions } from 'redux-actions';\nimport {\n  setMapPath,\n  setMoveFlag,\n  selectRealTimeMarker,\n  setRealTimeMarkers,\n  setAlarmHistoryDetail,\n  setMapZoom,\n  setMapTrail,\n  setMapPCSArea,\n  setRadioTrall,\n} from '../actions/map';\nimport {\n  toggleForceHistoryVisible,\n  selectForceHistoryItem,\n} from '../actions/forceHistory';\nimport {\n  toggleAlarmHistoryVisible,\n  selectAlarmItem,\n} from '../actions/alarmHistory';\nimport {\n  convertDataToGeojson,\n} from '../utils/map';\nimport { setIshowCarMarkers, setIshowRadioMarkers, setIshowHeatLayers, setIshowMonitorMarkers } from '../actions/cpmStatus';\n\nconst defaultState = {\n  carMarkers: [\n    // { type: 'car', lng: 121.375985, lat: 31.254194, name: '沪A123456',indexCode: \"1111\",id: 1},\n    // { type: 'car', lng: 121.256683, lat: 31.238638, name: '沪A123456',indexCode: \"1111\",id: 2 },\n    // { type: 'car', lng: 121.368088, lat: 31.212068, name: '沪A123456',indexCode: \"1111\", id: 3 },\n    // { type: 'car', lng: 121.338219, lat: 31.281926, name: '沪A123456',indexCode: \"1111\", id: 4 },\n  ],\n  radioMarkers: [\n    { type: 3, lng: 121.368088, lat: 31.212068, name: '手持电台', id: 4 },\n  ],\n  peoplePoints: [\n    // { type: 'people', lat: 31.205900, lng: 121.267776, name: '笑傲江湖' },\n    // { type: 'people', lat: 31.191070, lng: 121.412315, name: '天龙八部' },\n    // { type: 'people', lat: 31.238494, lng: 121.320642, name: '铁血丹心' },\n    // { type: 'people', lat: 31.275029, lng: 121.254558, name: '神雕侠侣' },\n  ],\n  // type: 1 车辆 2 单兵 3 wifi 4 电台\n  realTimeMarkers: [\n    // { type: 1, lng: 121.267776, lat: 31.205900, name: '沪A3456', id: 1 },\n    // { type: 2, lng: 121.375985, lat: 31.254194, name: '单兵装备', id: 2 },\n    // { type: 3, lng: 121.256683, lat: 31.238638, name: '笑傲江湖', id: 3 },\n    // { type: 4, lng: 121.368088, lat: 31.212068, name: '手持电台', id: 4 },\n    // { type: 1, lng: 121.338219, lat: 31.281926, name: '沪A1257', id: 5 },\n  ],\n  forceHistoryMarker: null,\n  center: { lng: 121.331696, lat: 31.238858 },\n  // 点击的marker，指向realTimeMarker对应数据ID\n  // 点击历史条目，指向对应数据\n  selectedMarkerID: null,\n  movePath: null,\n  moveFlag: false,\n  alarmMarker: null,\n  showAlarmHistoryDetail: null,\n  mapzoom: null,\n  pcsArea: [],\n  \n  iShowCarMarkers: true, //是否显示车辆\n  iShowHeatLayers: false,\n  iShowRadioMarkers: true, //是否显示电台\n  iShowMonitorMarkers: false, // 是否显示监控固定点位\n  iShowNetworkAlarmHistory: false,\n  iShowNetWorkForceHistory: false,\n};\n\nconst map = handleActions(\n  {\n    [setIshowCarMarkers](state, { payload }) { // 设置是否显示实时车辆点位\n      return {...state, iShowCarMarkers: !state.iShowCarMarkers}\n    },\n    [setMapTrail](state, { payload }) {\n      // return { ...state, realTimeMarkers: payload };\n      return {...state, carMarkers: payload}\n    },\n    [setRadioTrall](state, { payload }) {\n      return {...state, radioMarkers:　payload}\n    },\n    [setIshowRadioMarkers](state) {\n      return {...state, iShowRadioMarkers: !state.iShowRadioMarkers}\n    },\n    [setIshowHeatLayers](state) {\n      return {...state, iShowHeatLayers: !state.iShowHeatLayers}\n    },\n    [setIshowMonitorMarkers](state) {\n      return {...state, iShowMonitorMarkers: !state.iShowMonitorMarkers}\n    },\n    [setMapPCSArea](state, { payload }) {\n      return {...state, pcsArea: payload }\n    },\n    [setRealTimeMarkers](state, { payload }) {\n      return { ...state, realTimeMarkers: payload };\n    },\n    [selectRealTimeMarker](state, { payload }) {\n      return { ...state, selectedMarkerID: payload };\n    },\n    [selectForceHistoryItem](state, { payload }) {\n      if (payload) {\n        return { ...state, forceHistoryMarker: payload, center: { lng: payload.lng, lat: payload.lat } };\n      }\n      return { ...state, forceHistoryMarker: payload };\n    },\n    [setMapPath](state, { payload }) {\n      return { ...state, movePath: payload ? convertDataToGeojson(payload, 'lineString'): null };\n    },\n    [toggleForceHistoryVisible](state) {\n      return { ...state, movePath: null, forceHistoryMarker: null, showAlarmHistoryDetail: null, selectedMarkerID: null, alarmMarker: null };\n    },\n    [toggleAlarmHistoryVisible](state) {\n      return { ...state, movePath: null, forceHistoryMarker: null, showAlarmHistoryDetail: null, selectedMarkerID: null, alarmMarker: null };\n    },\n    [setMoveFlag](state, { payload }) {\n      return { ...state, moveFlag: payload };\n    },\n    [selectAlarmItem](state, { payload }) {\n      const newState = { ...state, alarmMarker: payload, forceHistoryMarker: null, selectedMarkerID: null, movePath: null };\n      if (payload) {\n        newState.center = { lng: payload.lng, lat: payload.lat };\n      }\n      return newState;\n    },\n    [setAlarmHistoryDetail](state, { payload }) {\n      return { ...state, showAlarmHistoryDetail: payload }\n    },\n    [setMapZoom](state, {payload}) {\n      return { ...state, mapzoom: payload }\n    }\n  },\n  defaultState,\n);\n\nexport default map;\n","import { combineReducers } from 'redux';\nimport alarmHistory from './alarmHistory';\nimport forceHistory from './forceHistory';\nimport cmpStatus from './cmpStatus';\nimport map from './map';\n\nconst rootReducer = combineReducers({\n  alarmHistory,\n  forceHistory,\n  map,\n  cmpStatus\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport { composeWithDevTools as composeDTD } from 'redux-devtools-extension';\nimport { composeWithDevTools as composeDTP } from 'redux-devtools-extension/logOnlyInProduction';\n\nimport { isDev } from './constants/env';\n\nconst devToolOpt = {};\nconst composeEnhancers = isDev ? composeDTD(devToolOpt) : composeDTP(devToolOpt);\nconst sagaMiddleware = createSagaMiddleware();\n\nfunction configStore(reducer, rootSaga) {\n  const reduxMiddlewareArr = [sagaMiddleware];\n\n  const store = createStore(reducer, composeEnhancers(applyMiddleware(...reduxMiddlewareArr)));\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n}\n\nexport default configStore;\n","import L from 'leaflet';\nimport marker from 'leaflet/dist/images/marker-icon.png';\nimport marker2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\n// import '../assets/js/leaflet-heat';\nimport 'leaflet/dist/leaflet.css';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: marker2x,\n    iconUrl: marker,\n    shadowUrl: markerShadow,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConfigProvider } from 'antd';\nimport moment from 'moment';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport zhCN from 'antd/es/locale-provider/zh_CN';\nimport rootSagas from './sagas';\n\nimport rootReducer from './reducers';\nimport configStore from './configStore';\n\nimport 'moment/locale/zh-cn'\nimport './core/initLeaflet';\n\nmoment.locale('zh-cn');\n\nconst store = configStore(rootReducer, rootSagas);\n\nReactDOM.render(\n  <ConfigProvider locale={zhCN}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </ConfigProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}